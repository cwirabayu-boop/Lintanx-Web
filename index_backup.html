<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lintanx</title>
    <link rel="icon" href="/logo.png" type="image/png">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ========================================================= */
        /* Definisi Variabel Warna - Palet Kustom "Inked" */
        /* ========================================================= */
        :root {
            --color-black: #000000;
            --color-light-gray: #DFDEDC; /* Abu-abu Sangat Terang */
            --color-dark-gray: #464545; /* Abu-abu Gelap */
            --color-teal-accent: #00ACAC; /* Aksen Teal */
            --color-medium-gray: #A6A7A2; /* Abu-abu Sedang */

            /* Mappings untuk penggunaan di aplikasi, disesuaikan dengan palet baru */
            --color-primary-dark: var(--color-dark-gray); /* Dark Gray untuk navbar, footer, elemen utama */
            --color-accent-button: var(--color-teal-accent); /* Teal Accent untuk tombol, aksen interaktif */
            --color-light-bg: var(--color-light-gray); /* Light Gray untuk latar belakang transparan area konten */
            --color-light-bg-solid: #FFFFFF; /* Putih untuk kartu dan notifikasi (sesuai permintaan sebelumnya) */
            --color-text-dark: var(--color-black); /* Hitam untuk teks pada latar belakang terang (menjamin kontras) */
            --color-text-light: white; /* Putih untuk teks pada latar belakang gelap */
            --color-link-hover: var(--color-teal-accent); /* Teal Accent untuk hover link */
            --color-hero-text: var(--color-light-gray); /* Light Gray untuk teks hero utama */
        }


        /* ========================================================= */
        /* Gaya Umum dan Global */
        /* ========================================================= */
        body {
            font-family: 'Inter', sans-serif; /* Font dikembalikan menjadi Inter */
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Mencegah scroll horizontal */
            min-height: 100vh; /* Memastikan body mengisi tinggi viewport */
            background-color: transparent; /* Menghilangkan warna latar belakang body */
            background-image: url('https://images.pexels.com/photos/807598/pexels-photo-807598.jpeg?cs=srgb&dl=pexels-sohi-807598.jpg&fm=jpg'); /* Gambar background utama yang baru */
            background-size: cover; /* Memastikan gambar menutupi seluruh area */
            background-position: center; /* Memusatkan gambar */
            background-attachment: fixed; /* Memastikan gambar tetap saat menggulir */
            position: relative; /* Diperlukan untuk penempatan global-overlay */
        }

        /* Overlay global yang menutupi seluruh halaman - Dihilangkan agar gambar background terlihat penuh */
        #global-overlay {
            display: none;
        }

        /* Kontainer utama aplikasi harus di atas overlay */
        #appContainer {
            position: relative;
            z-index: 2; /* Pastikan semua konten aplikasi berada di atas global-overlay */
        }

        .hidden-page {
            display: none;
        }

        /* ========================================================= */
        /* Gaya Header Navigasi Baru */
        /* ========================================================= */
        .top-nav {
            background-color: rgba(70, 69, 69, 0.8); /* Dark Gray semi-transparan */
            backdrop-filter: blur(8px); /* Efek blur untuk latar belakang */
            color: var(--color-text-light); /* Teks putih */
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed; /* Header tetap di atas */
            width: 100%;
            top: 0;
            left: 0;
            z-index: 100; /* Pastikan di atas elemen lain */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        .top-nav .nav-links a, .top-nav .nav-links div {
            padding: 5px 10px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            cursor: pointer;
            position: relative; /* Untuk dropdown */
        }
        .top-nav .nav-links a:hover, .top-nav .nav-links div:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        .top-nav .nav-links .dropdown-content {
            display: none;
            position: absolute;
            background-color: rgba(70, 69, 69, 0.9); /* Dark Gray semi-transparan lebih solid */
            backdrop-filter: blur(5px);
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            top: 100%; /* Di bawah elemen induk */
            left: 0;
            border-radius: 5px;
        }
        .top-nav .nav-links .dropdown-content a {
            color: var(--color-text-light);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
        }
        .top-nav .nav-links .dropdown-content a:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }
        .top-nav .nav-links .dropdown:hover .dropdown-content {
            display: block;
        }
        .top-nav .logo a { /* Gaya untuk link logo */
            font-size: 1.5rem; /* Ukuran logo yang lebih kecil */
            font-weight: bold;
            display: flex;
            align-items: center;
            color: var(--color-text-light); /* Teks putih */
            text-decoration: none; /* Hapus underline default */
        }
        .top-nav .logo img {
            height: 24px; /* Tinggi logo gambar */
            margin-right: 8px;
        }


        /* ========================================================= */
        /* Gaya Hero Section (Halaman Utama) */
        /* ========================================================= */
        .hero-background {
            position: relative;
            height: 100vh; /* Menggunakan tinggi penuh viewport */
            display: flex;
            flex-direction: column;
            justify-content: center; /* Memusatkan konten secara vertikal */
            align-items: center;
            text-align: center;
            color: var(--color-text-light); /* Teks putih */
            padding: 20px;
            z-index: 2; /* Pastikan di atas global-overlay */
            /* Background image dihapus dari sini agar body background terlihat penuh */
            background-color: transparent; /* Pastikan hero section transparan */
        }

        .hero-overlay { /* Dihilangkan */
            display: none;
        }

        /* Style untuk membuat latar belakang kartu transparan di hero section */
        .transparent-card {
            background-color: rgba(var(--color-light-bg-rgb), 0.2); /* Light Gray sedikit transparan */
            color: var(--color-text-light); /* Teks putih */
        }

        /* ========================================================= */
        /* Gaya Halaman Konten (Selain Halaman Utama) */
        /* ========================================================= */
        .content-page-background {
            background-color: rgba(223, 222, 220, 0.7); /* Light Gray semi-transparan */
            backdrop-filter: blur(8px); /* Efek blur lebih kuat */
            min-height: calc(100vh - 100px); /* Sesuaikan tinggi agar tidak menutupi footer */
            padding-bottom: 50px; /* Tambahkan padding agar konten tidak terlalu dekat dengan footer */
            position: relative; /* Pastikan di atas global-overlay */
            z-index: 2;
        }

        /* Gaya baru untuk kartu di dalam halaman konten */
        .transparent-content-card {
            background-color: var(--color-light-bg-solid); /* Putih */
            backdrop-filter: blur(10px); /* Efek blur yang lebih kuat untuk memisahkan dari background halaman */
        }

        /* ========================================================= */
        /* Gaya Elemen Spesifik */
        /* ========================================================= */
        .filter-active {
            background-color: var(--color-accent-button); /* Teal Accent untuk tombol aktif */
            color: var(--color-text-light); /* Teks putih */
        }
        /* Style untuk tombol filter di hero section */
        .hero-filter-button {
            background-color: rgba(255, 255, 255, 0.2);
            color: var(--color-text-light);
            border-radius: 9999px; /* rounded-full */
            padding: 8px 16px;
            margin: 0 4px;
            font-size: 0.875rem; /* text-sm */
            font-weight: 500; /* font-medium */
            transition: background-color 0.2s ease-in-out;
        }
        .hero-filter-button.active {
            background-color: var(--color-accent-button); /* Teal Accent */
            font-weight: 600; /* font-semibold */
        }
        .hero-filter-button:not(.active):hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        .product-card-image {
            width: 100%;
            height: 100px; /* Fixed height untuk gambar, seperti di gambar contoh */
            object-fit: cover; /* Memastikan gambar mengisi area tanpa terdistorsi */
            border-radius: 8px; /* Sudut membulat untuk gambar */
            margin-bottom: 8px; /* Mengurangi jarak di bawah gambar */
        }

        /* Gaya untuk kartu produk yang seragam dengan gambar contoh */
        .product-item-card {
            min-height: 180px; /* Tinggi minimum untuk keseragaman, dapat disesuaikan */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Untuk mendorong elemen ke atas/bawah */
            /* Transisi untuk efek hover */
            transition: background-color 0.3s ease-in-out, transform 0.2s ease-in-out;
        }

        /* Efek hover untuk kartu produk dan negara */
        .product-item-card:hover {
            background-color: var(--color-light-gray); /* Warna abu-abu terang saat hover */
            transform: translateY(-5px); /* Sedikit naik saat hover */
        }


        /* Custom style for dropdown button to fit within the input styling */
        .dropdown-toggle-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0 8px;
            color: var(--color-text-dark); /* Hitam */
            font-size: 1.2em;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        /* Style untuk membuat footer transparan */
        .transparent-footer {
            background-color: rgba(70, 69, 69, 0.7); /* Dark Gray semi-transparan */
            backdrop-filter: blur(8px); /* Efek blur untuk latar belakang */
            color: var(--color-text-light); /* Teks putih */
            position: relative; /* Pastikan di atas global-overlay */
            z-index: 2;
        }

        /* Gaya untuk kartu notifikasi pencarian tidak ditemukan */
        #noResultsCard {
            position: absolute;
            top: 25%; /* Posisikan sedikit di bawah tengah */
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%; /* Lebar responsif */
            max-width: 400px; /* Lebar maksimum */
            background-color: var(--color-light-bg-solid); /* Putih */
            backdrop-filter: blur(8px);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            text-align: center;
            color: var(--color-text-dark); /* Hitam */
            z-index: 10; /* Pastikan di atas konten lain */
            opacity: 0; /* Mulai tersembunyi */
            transition: opacity 0.5s ease-in-out; /* Animasi fade */
            pointer-events: none; /* Tidak bisa diklik saat tersembunyi */
        }
        #noResultsCard.visible {
            opacity: 1; /* Tampilkan */
            pointer-events: auto; /* Bisa diklik saat terlihat */
        }

        /* Gaya khusus untuk input pencarian */
        .search-input-field {
            background-color: rgba(255, 255, 255, 0.9); /* Latar belakang putih semi-transparan */
            border: none;
            border-radius: 9999px; /* rounded-full */
            padding: 12px 20px;
            font-size: 1rem;
            color: var(--color-text-dark); /* Hitam */
            outline: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .search-input-field::placeholder {
            color: var(--color-medium-gray); /* Abu-abu Sedang */
        }

        /* Dropdown styles */
        .dropdown-container {
            position: relative;
            flex-grow: 1;
            padding: 0 8px; /* Adjusted padding */
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white; /* Putih untuk dropdown item */
            min-width: 100%;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 100; /* Ensure dropdown is on top */
            border-radius: 8px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 5px; /* Space between input and dropdown */
            left: 0; /* Align with the left edge of its parent */
            top: 100%; /* Position below the input field */
        }

        .dropdown-content.show {
            display: block;
        }

        .dropdown-item {
            color: var(--color-text-dark); /* Hitam */
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .dropdown-item:hover {
            background-color: var(--color-light-gray); /* Light Gray */
        }
        /* Custom input style to match the dropdown toggle button */
        .search-input-with-button {
            display: flex;
            align-items: center;
            width: 100%;
            background-color: transparent;
            border: none;
            outline: none;
            color: var(--color-text-dark); /* Hitam */
            padding-right: 0; /* Remove right padding as button is inside */
        }
        .search-input-with-button::placeholder {
            color: var(--color-medium-gray); /* Abu-abu Sedang */
        }
        .search-bar-item {
            position: relative; /* Essential for positioning dropdowns */
            flex-grow: 1;
            display: flex;
            align-items: center;
            padding: 0 4px; /* Reduced horizontal padding */
        }
        .search-bar-item:first-child {
            padding-left: 16px; /* Restore left padding for the first item */
        }
        .search-bar-item:last-child {
            padding-right: 16px; /* Restore right padding for the last item */
        }

        /* Styling for the main search bar container in hero section */
        #searchBarContainer {
            background-color: #FFFFFF; /* Diubah menjadi putih solid */
            backdrop-filter: none; /* Menghilangkan efek blur */
        }

        /* Helper for RGB conversion (used in JS to get RGB values for rgba) */
        /* For direct CSS, we use a simple rgba with the direct hex code here */

        /* Override the Tailwind rgb values for custom properties */
        [style*="--color-primary-dark-rgb"] {
            --color-primary-dark-rgb: 70, 69, 69; /* RGB for #464545 */
        }
        [style*="--color-light-bg-rgb"] {
            --color-light-bg-rgb: 223, 222, 220; /* RGB for #DFDEDC */
        }

        /* Gaya untuk kartu gambar produk di halaman persyaratan */
        .requirement-product-card {
            width: 100%;
            max-width: 300px; /* Lebar maksimum kartu agar tidak terlalu besar */
            margin-bottom: 1.5rem; /* Jarak bawah */
            padding: 1rem; /* Tambahkan padding ke kartu */
            border-radius: 0.5rem; /* Sudut membulat */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Tambahkan shadow */
            background-color: var(--color-light-bg-solid); /* Latar belakang putih */
            display: flex; /* Gunakan flexbox untuk mengatur gambar dan nama */
            flex-direction: column; /* Tata letak vertikal */
            align-items: center; /* Pusatkan item secara horizontal */
        }
        .requirement-product-card img {
            width: 100%;
            height: 180px; /* Tinggi gambar agar seragam */
            object-fit: cover;
            border-radius: 0.5rem; /* rounded-lg */
            margin-bottom: 1rem; /* Jarak bawah gambar */
        }

        /* Styling untuk daftar navigasi persyaratan di kolom kanan */
        .requirements-nav-card {
            background-color: var(--color-light-bg-solid); /* Latar belakang putih */
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem; /* Jarak bawah */
            width: 100%;
            max-width: 300px; /* Sama dengan kartu produk */
        }
        .requirements-nav-card h3 {
            font-weight: 600; /* font-semibold */
            font-size: 1.125rem; /* text-lg */
            margin-bottom: 1rem;
            color: var(--color-text-dark);
        }
        .requirements-nav-card ul {
            list-style: none; /* Hapus bullet point default */
            padding: 0;
            margin: 0;
            line-height: 1.7; /* Jarak antar baris */
        }
        .requirements-nav-card ul li a {
            display: block;
            padding: 0.5rem 0.75rem;
            border-radius: 0.25rem;
            color: var(--color-text-dark);
            text-decoration: none;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
        }
        .requirements-nav-card ul li a:hover {
            background-color: var(--color-light-gray);
            color: var(--color-teal-accent);
        }
        .requirements-nav-card ul li a.active-heading {
            background-color: var(--color-teal-accent);
            color: var(--color-text-light);
            font-weight: 500;
        }

        /* Gaya untuk tombol di dalam daftar navigasi */
        .nav-button-group {
            border-top: 1px solid var(--color-light-gray); /* Garis pemisah di atas grup tombol */
            padding-top: 1rem;
            margin-top: 1rem;
        }

        .nav-button-item {
            margin-top: 0.75rem; /* Jarak antar tombol */
            margin-bottom: 0.75rem; /* Jarak bawah setiap tombol */
        }
        .nav-button-item a {
            display: block;
            padding: 0.75rem 1.25rem; /* py-3 px-5 */
            border-radius: 9999px; /* rounded-full */
            font-weight: 600; /* font-semibold */
            text-align: center;
            transition: background-color 0.2s ease, transform 0.1s ease;
            text-decoration: none; /* Pastikan tidak ada underline */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Tambah shadow */
        }
        .nav-button-item a.bg-teal-accent-button {
            background-color: var(--color-accent-button);
            color: var(--color-text-light);
        }
        .nav-button-item a.bg-red-500-button {
            background-color: #EF4444; /* Tailwind red-500 */
            color: var(--color-text-light);
        }
        .nav-button-item a.bg-teal-accent-button:hover {
            background-color: var(--color-primary-dark); /* Darker on hover */
            transform: translateY(-2px);
        }
        .nav-button-item a.bg-red-500-button:hover {
            background-color: #DC2626; /* Darker red on hover */
            transform: translateY(-2px);
        }
        
    </style>
</head>
<body style="--color-primary-dark-rgb: 70, 69, 69; --color-light-bg-rgb: 223, 222, 220;">

    <!-- Lapisan overlay hitam transparan yang menutupi seluruh halaman - Dihilangkan -->
    <div id="global-overlay"></div>

    <!-- Kontainer utama untuk semua "halaman" -->
    <div id="appContainer">

        <!-- ========================================================= -->
        <!-- Header Navigasi -->
        <!-- ========================================================= -->
        <nav class="top-nav">
            <div class="logo">
                <a href="#/" class="flex items-center"> <!-- Pembungkus anchor tag baru -->
                    <!-- Tulisan "Lintanx" sebagai tombol kembali ke halaman utama -->
                    <h1 class="text-white text-2xl font-bold">Lintanx</h1>
                </a>
            </div>
            <div class="nav-links flex space-x-4">
            </div>
        </nav>

        <!-- ========================================================= -->
        <!-- Halaman Utama (Main Page) -->
        <!-- ========================================================= -->
        <div id="mainPage">
            <header class="hero-background">
                <!-- Hero overlay dihapus -->
                <div class="relative z-10 flex flex-col items-center justify-center w-full max-w-4xl px-4 mx-auto pt-24">
                    <!-- Kartu Notifikasi Pencarian Tidak Ditemukan -->
                    <div id="noResultsCard" class="hidden">
                        <h2 class="text-xl font-semibold mb-2">Maaf, data yang Anda minta belum tersedia</h2>
                        <p style="color: var(--color-text-dark);">Silakan coba pencarian lain.</p>
                    </div>

                    <h1 class="mb-8 text-5xl font-bold md:text-6xl lg:text-7xl" style="color: var(--color-hero-text);">Layanan Informasi Tumbuhan Ekspor</h1>

                    <!-- Bilah Pencarian Utama -->
                    <div class="w-full max-w-4xl rounded-full shadow-lg flex items-center p-2 mb-6" id="searchBarContainer">
                        <!-- Dropdown Negara -->
                        <div class="search-bar-item border-r border-gray-300">
                            <input type="text" id="inputNegara" placeholder="Semua negara" class="search-input-with-button" autocomplete="off">
                            <button class="dropdown-toggle-button" id="toggleNegaraDropdown">&#9660;</button>
                            <div class="dropdown-content" id="negaraDropdownContent">
                                <!-- Isi dropdown negara akan dimuat di sini oleh JavaScript -->
                            </div>
                        </div>
                        <!-- Dropdown Produk -->
                        <div class="search-bar-item">
                            <input type="text" id="inputProduk" placeholder="Semua produk" class="search-input-with-button" autocomplete="off">
                            <button class="dropdown-toggle-button" id="toggleProdukDropdown">&#9660;</button>
                            <div class="dropdown-content" id="produkDropdownContent">
                                <!-- Isi dropdown produk akan dimuat di sini oleh JavaScript -->
                            </div>
                        </div>
                        <button id="tombolCari" class="flex-shrink-0 px-6 py-3 text-white font-semibold rounded-full focus:outline-none focus:ring-2 focus:ring-opacity-50"
                                style="background-color: var(--color-accent-button);">Telusuri</button>
                    </div>

                </div>
            </header>
            <main class="container p-8 mx-auto">
                <!-- Bagian ini dapat digunakan untuk konten lain di masa mendatang jika diperlukan di halaman utama -->
            </main>
        </div>

        <!-- ========================================================= -->
        <!-- Halaman Negara Tujuan Ekspor -->
        <!-- ========================================================= -->
        <div id="negaraTujuanPage" class="hidden-page content-page-background">
            <div class="container mx-auto px-4 py-8">
                <!-- Breadcrumbs -->
                <nav class="mb-6 text-sm" style="color: var(--color-text-dark);">
                    <a href="#" id="breadcrumbHomeNegara" class="hover:underline">Home</a> &gt;
                    <span id="breadcrumbCurrentNegara" class="font-semibold">Negara Tujuan</span>
                </nav>

                <!-- Header Halaman -->
                <h1 class="text-3xl font-bold mb-2" style="color: var(--color-text-dark);">Negara Tujuan Ekspor</h1>
                <p class="mb-8" style="color: var(--color-text-dark);">Berikut ini informasi syarat mutu dan aturan teknis ekspor berdasarkan negara.</p>

                <div class="flex flex-col md:flex-row gap-8">
                    <!-- Filter Sidebar -->
                    <div class="w-full md:w-1/4 p-6 rounded-lg shadow-md transparent-content-card">
                        <button id="filterSemuaNegara" class="w-full text-left py-2 px-4 rounded-lg text-white font-semibold mb-2 transition-colors"
                                style="background-color: var(--color-accent-button);">Semua Negara</button>
                        <ul class="space-y-1">
                            <li><a href="#" id="filterAsia" class="block py-2 px-4 hover:bg-opacity-20 rounded-lg" style="color: var(--color-text-dark);">Asia</a></li>
                            <li><a href="#" id="filterUniEropa" class="block py-2 px-4 hover:bg-opacity-20 rounded-lg" style="color: var(--color-text-dark);">Uni Eropa</a></li>
                            <li><a href="#" id="filterGcc" class="block py-2 px-4 hover:bg-opacity-20 rounded-lg" style="color: var(--color-text-dark);">GCC (Arab Teluk)</a></li>
                            <li><a href="#" id="filterUee" class="block py-2 px-4 hover:bg-opacity-20 rounded-lg" style="color: var(--color-text-dark);">UEE (Eurasia)</a></li>
                            <li><a href="#" id="filterLainnya" class="block py-2 px-4 hover:bg-opacity-20 rounded-lg" style="color: var(--color-text-dark);">Lainnya</a></li>
                        </ul>
                    </div>

                    <!-- Daftar Negara -->
                    <div class="w-full md:w-3/4">
                        <h2 id="daftarNegaraTitle" class="text-xl font-semibold mb-4" style="color: var(--color-text-dark);">Semua Negara</h2>
                        <!-- Mengubah grid menjadi lg:grid-cols-5 untuk menampilkan 5 kartu berjajar di layar besar -->
                        <div id="daftarNegaraFiltrasi" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5 gap-4">
                            <!-- Kartu Negara akan dimuat di sini oleh JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========================================================= -->
        <!-- Halaman Detail Produk Negara -->
        <!-- ========================================================= -->
        <div id="productDetailPage" class="hidden-page content-page-background">
            <div class="container mx-auto px-4 py-8">
                <!-- Breadcrumbs -->
                <nav class="mb-6 text-sm" style="color: var(--color-text-dark);">
                    <a href="#" id="breadcrumbHomeProduct" class="hover:underline">Home</a> &gt;
                    <a href="#" id="breadcrumbNegaraProduct" class="hover:underline">Negara Tujuan</a> &gt;
                    <span id="breadcrumbCurrentProduct" class="font-semibold"></span>
                </nav>

                <!-- Header Halaman Detail Produk -->
                <h1 class="text-3xl font-bold mb-2" style="color: var(--color-text-dark);" id="detailPageTitle">Produk Ekspor ke Afrika Selatan</h1>
                <p class="mb-8" style="color: var(--color-text-dark);" id="detailPageSubtext"></p>

                <!-- Mengubah grid menjadi lg:grid-cols-5 untuk menampilkan 5 kartu berjajar di layar besar -->
                <div id="produkContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5 gap-4">
                    <!-- Kartu Produk akan dimuat di sini oleh JavaScript -->
                </div>
            </div>
        </div>

        <!-- ========================================================= -->
        <!-- Halaman Persyaratan Ekspor Produk -->
        <!-- ========================================================= -->
        <div id="exportRequirementsPage" class="hidden-page content-page-background">
            <div class="container mx-auto px-4 py-8">
                <!-- Breadcrumbs -->
                <nav class="mb-6 text-sm" style="color: var(--color-text-dark);">
                    <a href="#" id="breadcrumbHomeReq" class="hover:underline">Home</a> &gt;
                    <a href="#" id="breadcrumbNegaraReq" class="hover:underline">Negara Tujuan</a> &gt;
                    <a href="#" id="breadcrumbProdukReq" class="hover:underline"></a> &gt;
                    <span id="breadcrumbCurrentReq" class="font-semibold"></span>
                </nav>

                <!-- Header Halaman Persyaratan -->
                <div class="flex items-center mb-6">
                    <h1 class="text-3xl font-bold" style="color: var(--color-text-dark);" id="requirementsPageTitle">Ekspor Produk Alat Komunikasi ke Afrika Selatan</h1>
                </div>
                <p class="mb-8" style="color: var(--color-text-dark);" id="requirementsPageSubtext">Berikut ini informasi persyaratan ekspor terkait produk yang akan diekspor ke <span id="countryNameForReq"></span>.</p>
                
                <div class="flex flex-col lg:flex-row gap-8">
                    <!-- Kolom Kiri: Konten Persyaratan -->
                    <div class="w-full lg:w-3/4 order-1">
                        <div id="requirementsContent" style="color: var(--color-text-dark);" class="text-justify">
                            <!-- Konten persyaratan akan dimuat di sini -->
                        </div>
                    </div>
                    
                    <!-- Kolom Kanan: Daftar Navigasi & Elemen Lainnya -->
                    <div class="w-full lg:w-1/4 order-2 flex flex-col items-center gap-6 sticky top-28 self-start">
                        <!-- Daftar Navigasi Persyaratan -->
                        <div id="requirementsNavCard" class="requirements-nav-card">
                            <h3 class="mb-4">Lampiran</h3>
                            <ul id="requirementsNavList">
                                <!-- Item navigasi akan dimuat di sini oleh JavaScript -->
                            </ul>
                            <!-- Grup tombol akan dimuat di sini oleh JavaScript -->
                            <div id="requirementsButtonGroup" class="nav-button-group"></div>
                        </div>

                        <!-- Kartu Gambar Produk -->
                        <div id="requirementsProductCard" class="p-4 rounded-lg shadow-md transparent-content-card requirement-product-card">
                            <img id="requirementsProductImage" src="" alt="Gambar Produk" class="mb-4">
                            <h3 id="requirementsProductName" class="text-lg font-semibold text-center" style="color: var(--color-text-dark);"></h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========================================================= -->
        <!-- Halaman Daftar Produk Ekspor -->
        <!-- ========================================================= -->
        <div id="exportProductListPage" class="hidden-page content-page-background">
            <div class="container mx-auto px-4 py-8">
                <!-- Breadcrumbs -->
                <nav class="mb-6 text-sm" style="color: var(--color-text-dark);">
                    <a href="#" id="breadcrumbHomeProdukList" class="hover:underline">Home</a> &gt;
                    <span id="breadcrumbCurrentProdukList" class="font-semibold">Produk Ekspor</span>
                </nav>

                <!-- Header Halaman -->
                <h1 class="text-3xl font-bold mb-2" style="color: var(--color-text-dark);" id="productListPageTitle">Semua Produk Ekspor</h1>
                <p class="mb-8" style="color: var(--color-text-dark);" id="productListPageSubtext">Temukan persyaratan ekspor untuk berbagai jenis produk tumbuhan.</p>

                <!-- Mengubah grid menjadi lg:grid-cols-5 untuk menampilkan 5 kartu berjajar di layar besar -->
                <div id="allProductsContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5 gap-4">
                    <!-- Kartu Produk akan dimuat di sini oleh JavaScript -->
                </div>
            </div>
        </div>

        <!-- ========================================================= -->
        <!-- Halaman Negara-negara Penjual Produk (Baru) -->
        <!-- ========================================================= -->
        <div id="productCountriesPage" class="hidden-page content-page-background">
            <div class="container mx-auto px-4 py-8">
                <!-- Breadcrumbs -->
                <nav class="mb-6 text-sm" style="color: var(--color-text-dark);">
                    <a href="#" id="breadcrumbHomeProductCountries" class="hover:underline">Home</a> &gt;
                    <a href="#" id="breadcrumbProdukListProductCountries" class="hover:underline">Produk Ekspor</a> &gt;
                    <span id="breadcrumbCurrentProductCountries" class="font-semibold"></span>
                </nav>

                <!-- Header Halaman -->
                <h1 class="text-3xl font-bold mb-2" style="color: var(--color-text-dark);" id="productCountriesPageTitle">Negara Tujuan untuk [Nama Produk]</h1>
                <p class="mb-8" style="color: var(--color-text-dark);" id="productCountriesPageSubtext">Informasi negara tujuan ekspor.</p>

                <!-- Mengubah grid menjadi lg:grid-cols-5 untuk menampilkan 5 kartu berjajar di layar besar -->
                <div id="countriesForProductContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5 gap-4">
                    <!-- Kartu Negara akan dimuat di sini oleh JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================================= -->
    <!-- Footer Halaman -->
    <!-- ========================================================= -->
    <footer class="py-6 mt-12 text-center transparent-footer">
        <p>&copy; 2025 Layanan Informasi Tanaman Ekspor. BKHIT Sulawesi Utara. Hak Cipta Dilindungi.</p>
    </footer>

    <script>
        // Helper function to format requirements into HTML list
        function formatRequirementsToHtml(requirementsArray) {
            if (!requirementsArray || requirementsArray.length === 0) {
                return '<p style="color: var(--color-text-dark);">Tidak ada persyaratan spesifik yang tersedia.</p>';
            }
            return `<ul class="list-disc list-inside space-y-2" style="color: var(--color-text-dark);">` +
                   requirementsArray.map(item => `<li>${item}</li>`).join('') +
                   `</ul>`;
        }

        /* ========================================================= */
        /* Data Aplikasi */
        /* ========================================================= */
        const exportCountriesData = [
            { "negara": "China", "jumlah_produk": 2, "region": "Asia", "nppo_link": "http://www.moa.gov.cn/", "produk_list": [
                {"nama": "Santan Kelapa", "img": "https://wiratech.co.id/wp-content/uploads/2018/11/cara-membuat-santan-kelapa.png", "persyaratan": `
                    <div id="informasi-umum" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Informasi Umum</h3>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Ekspor santan kelapa (coconut milk) dari Indonesia ke China diawasi ketat oleh GACC (NPPO China).</p>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Produk harus memenuhi standar keamanan pangan & karantina. Jika tidak sesuai → produk bisa ditolak atau dimusnahkan di border.</p>
                    </div>
                    <div id="dokumen-wajib" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Dokumen Wajib</h3>
                        ${formatRequirementsToHtml([
                            "Phytosanitary Certificate (PC) – diterbitkan oleh Badan Karantina Indonesia.",
                            "GACC Registration Proof (CIFER) – pabrik pengolah santan harus terdaftar resmi di GACC.",
                            "Commercial Invoice & Packing List – lengkap, sesuai HS code (HS 2008.19).",
                            "Bill of Lading (B/L) atau Air Waybill (AWB).",
                            "Certificate of Origin (COO/SKA) – membuktikan asal Indonesia.",
                            "Certificate of Analysis (CoA) – uji laboratorium mencakup:",
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Asam lemak bebas (FFA)</li>
                            <li>Peroksida (PV)</li>
                            <li>Cemaran mikrobiologi: Salmonella, E. coli, Coliforms, Yeast & Mold</li>
                            <li>Logam berat (Pb, Cd, Hg, As)</li>
                            <li>Residu pestisida (sesuai GB 2763)</li>
                            <li>Aflatoksin (jika berbahan baku kering/kelapa parut)</li>
                        </ul>
                        <p class="text-base mt-2 ml-8" style="color: var(--color-text-dark);"> Declaration of Compliance (DoC) – menyatakan produk sesuai standar GB China.</p>
                    </div>
                    <div id="standar-mutu-label" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Standar Mutu & Label (China)</h3>
                        ${formatRequirementsToHtml([
                            "GB 7101-2022 – Standar keamanan minuman.",
                            "GB 2762-2022 – Batas maksimum kontaminan (logam berat).",
                            "GB 2763-2021 – Batas residu pestisida (MRL).",
                            "GB 7718-2011 – Standar label pangan impor.",
                            "Label wajib dalam bahasa Mandarin mencantumkan:",
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Nama produk: 椰浆 (Ye Jiang – Coconut Milk)</li>
                            <li>Negara asal: 印度尼西亚 (Indonesia)</li>
                            <li>Nama & alamat eksportir/produsen</li>
                            <li>Nama & alamat importir China</li>
                            <li>Berat bersih & kotor</li>
                            <li>Tanggal produksi & kedaluwarsa</li>
                            <li>Nomor batch/lot</li>
                            <li>Instruksi penyimpanan</li>
                            <li>Nomor registrasi GACC</li>
                        </ul>
                    </div>
                    <div id="persyaratan-karantina" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Persyaratan Karantina NPPO China</h3>
                        ${formatRequirementsToHtml([
                            "Produk bebas hama & mikroorganisme berbahaya.",
                            "Hanya boleh diekspor dari pabrik yang sudah disetujui & terdaftar di GACC.",
                            "Produk harus dalam kemasan food grade, hermetis, dan disegel rapat.",
                            "Jika ditemukan cemaran biologis atau kimia di atas ambang batas GB → produk ditolak/dimusnahkan."
                        ])}
                    </div>
                    <div id="proses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Proses Ekspor</h3>
                        ${formatRequirementsToHtml([
                            "Registrasi pabrik di CIFER GACC (wajib).",
                            "Lakukan uji mutu & keamanan pangan → keluarkan CoA.",
                            "Ajukan pemeriksaan ke Badan Karantina Indonesia → terbit PC.",
                            "Lengkapi dokumen ekspor (Invoice, Packing List, COO, B/L, CoA, DoC).",
                            "Pengiriman via designated port China.",
                            "CIQ Inspection di border → pemeriksaan dokumen, sampling, dan uji laboratorium."
                        ])}
                    </div>
                    <div id="catatan-penting" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Catatan Penting</h3>
                        ${formatRequirementsToHtml([
                            "Tidak ada registrasi GACC → ekspor ditolak .",
                            "Label tidak pakai Mandarin → barang ditahan .",
                            "Cemaran mikrobiologi/kimia melewati ambang batas → produk dimusnahkan .",
                            "Gunakan kemasan kaleng, pouch, atau UHT aseptik dengan segel aman ."
                        ])}
                    </div>
                    <div id="tips-sukses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Tips Sukses Ekspor Santan ke China</h3>
                        ${formatRequirementsToHtml([
                            "Gunakan proses sterilisasi (UHT / retort) agar sesuai standar shelf life China.",
                            "Selalu pakai lab ISO 17025 untuk pengujian mutu.",
                            "Sinkronkan nama produk, HS code, dan data dokumen dengan importir.",
                            "Pastikan importir di China memiliki izin impor produk pangan dari GACC."
                        ])}
                    </div>
                `
            },
            {
                "nama": "Minyak Kelapa",
                "img": "https://res.cloudinary.com/dk0z4ums3/image/upload/v1641883391/attached_image/fakta-minyak-kelapa-untuk-rambut-dan-diet.jpg",
                "persyaratan": `
                    <div id="informasi-umum" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Informasi Umum</h3>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Ekspor minyak kelapa (coconut oil) dari Indonesia ke China diawasi ketat oleh GACC (NPPO China).</p>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Produk harus memenuhi standar keamanan pangan & karantina. Jika tidak sesuai → produk bisa ditolak atau dimusnahkan di border .</p>
                    </div>
                    <div id="dokumen-wajib" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Dokumen Wajib</h3>
                        ${formatRequirementsToHtml([
                            "Phytosanitary Certificate (PC) – diterbitkan oleh Badan Karantina Indonesia..",
                            "GACC Registration Proof (CIFER) – pabrik pengolah minyak kelapa harus terdaftar resmi di GACC.",
                            "Commercial Invoice & Packing List – lengkap, sesuai HS code (HS 1513.11/1513.19).",
                            "Bill of Lading (B/L) atau Air Waybill (AWB).",
                            "Certificate of Origin (COO/SKA) – membuktikan asal Indonesia.",
                            "Certificate of Analysis (CoA) – uji laboratorium mencakup:",
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Asam lemak bebas (FFA)</li>
                            <li>Bilangan peroksida (PV)</li>
                            <li>Kadar air dan zat mudah menguap</li>
                            <li>Cemaran mikrobiologi (jika tidak murni 100% refined)</li>
                            <li>Logam berat (Pb, Cd, Hg, As)</li>
                            <li>Residu pestisida (sesuai GB 2763)</li>
                            <li>Aflatoksin (jika berbahan baku kering/kopra)</li>
                        </ul>
                        <p class="text-base mt-2 ml-8" style="color: var(--color-text-dark);"> Declaration of Compliance (DoC) – menyatakan produk sesuai standar GB China.</p>
                    </div>
                    <div id="standar-mutu-label" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Standar Mutu & Label (China)</h3>
                        ${formatRequirementsToHtml([
                            "GB 2716-2018 – Standar keamanan minyak nabati.",
                            "GB 2762-2022 – Batas maksimum kontaminan (logam berat).",
                            "GB 2763-2021 – Batas residu pestisida (MRL).",
                            "GB 7718-2011 – Standar label pangan impor.",
                            "Label wajib dalam bahasa Mandarin mencantumkan:",
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Nama produk: 椰子油 (Yē Zǐ Yóu – Coconut Oil)</li>
                            <li>Negara asal: 印度尼西亚 (Indonesia)</li>
                            <li>Nama & alamat eksportir/produsen</li>
                            <li>Nama & alamat importir China</li>
                            <li>Berat bersih & kotor</li>
                            <li>Tanggal produksi & kedaluwarsa</li>
                            <li>Nomor batch/lot</li>
                            <li>Instruksi penyimpanan</li>
                            <li>Nomor registrasi GACC</li>
                        </ul>
                    </div>
                    <div id="persyaratan-karantina" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Persyaratan Karantina NPPO China</h3>
                        ${formatRequirementsToHtml([
                            "Produk bebas hama & mikroorganisme berbahaya (jika tidak melalui proses penyulingan yang menghilangkan semua mikroba).",
                            "Hanya boleh diekspor dari pabrik yang sudah disetujui & terdaftar di GACC.",
                            "Produk harus dalam kemasan food grade, kedap udara, dan disegel rapat.",
                            "Jika ditemukan cemaran biologis atau kimia di atas ambang batas GB → produk ditolak/dimusnahkan."
                        ])}
                    </div>
                    <div id="proses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Proses Ekspor</h3>
                        ${formatRequirementsToHtml([
                            "Registrasi pabrik di CIFER GACC (wajib).",
                            "Lakukan uji mutu & keamanan pangan → keluarkan CoA.",
                            "Ajukan pemeriksaan ke BadanKarantina Indonesia → terbit PC.",
                            "Lengkapi dokumen ekspor (Invoice, Packing List, COO, B/L, CoA, DoC).",
                            "Pengiriman via designated port China.",
                            "CIQ Inspection di border → pemeriksaan dokumen, sampling, dan uji laboratorium."
                        ])}
                    </div>
                    <div id="catatan-penting" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Catatan Penting</h3>
                        ${formatRequirementsToHtml([
                            "Tidak ada registrasi GACC → ekspor ditolak .",
                            "Label tidak pakai Mandarin → barang ditahan .",
                            "Cemaran mikrobiologi/kimia melewati ambang batas → produk dimusnahkan .",
                            "Gunakan kemasan yang sesuai standar penyimpanan minyak, seperti drum, flexibag, atau botol kaca/plastik yang aman."
                        ])}
                    </div>
                    <div id="tips-sukses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Tips Sukses Ekspor Minyak Kelapa ke China</h3>
                        ${formatRequirementsToHtml([
                            "Pastikan kualitas minyak kelapa (terutama FFA dan PV) sesuai standar China untuk umur simpan yang baik.",
                            "Selalu pakai lab ISO 17025 untuk pengujian mutu.",
                            "Sinkronkan nama produk, HS code, dan data dokumen dengan importir.",
                            "Pastikan importir di China memiliki izin impor produk pangan dari GACC."
                        ])}
                    </div>
                `
            }
        ]
    },
    {
        "negara": "Inggris",
        "jumlah_produk": 1,
        "region": "Eropa",
        "nppo_link": "https://www.gov.uk/government/organisations/department-for-environment-food-rural-affairs",
        "produk_list": [
            {
                "nama": "Kelapa Parut",
                "img": "https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full//97/MTA-67010495/no-brand_kelapa-parut-1-butir_full01.jpg",
                "persyaratan": `
                    <div id="informasi-umum" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Informasi Umum</h3>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Ingin ekspor kelapa parut kering (desiccated coconut) dari Indonesia ke Inggris? Pastikan produk Anda memenuhi aturan karantina tumbuhan APHA (UK NPPO) dan standar keamanan pangan Inggris.</p>
                    </div>
                    <div id="dokumen-wajib" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Dokumen Wajib</h3>
                        ${formatRequirementsToHtml([
                            "Phytosanitary Certificate (PC) dari Badan Karantina Indonesia.",
                            "Import Permit (jika diminta) – biasanya diurus oleh importir Inggris, tergantung status risiko produk.",
                            "Commercial Invoice & Packing List.",
                            "Bill of Lading / Air Waybill.",
                            "Certificate of Origin (COO/SKA).",
                            "Certificate of Analysis (CoA):"
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Residu pestisida (sesuai UK MRLs)</li>
                            <li>Mikotoksin (aflatoksin B1 max 2 µg/kg; total aflatoksin max 4 µg/kg)</li>
                            <li>Logam berat (Pb, Cd)</li>
                            <li>Uji mikrobiologi (E. coli, Salmonella, dll.)</li>
                        </ul>
                    </div>
                    <div id="standar-mutu-label" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Standar Mutu & Label (UK)</h3>
                        ${formatRequirementsToHtml([
                            "UK Food Safety Act 1990 & Retained EU Regulations → semua produk pangan harus aman & dapat ditelusuri.",
                            "UK MRL (Maximum Residue Limits) → sejalan dengan Codex/EU, cek di database UK MRL Online.",
                            "Kontaminan pangan: mengacu pada UK/retained EU Regulation (EC) 1881/2006 → batas aflatoksin ketat.",
                            "Pelabelan Wajib (UK Food Information Regulations 2014, turunan dari EU 1169/2011):"
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Nama produk</li>
                            <li>Negara asal: “Product of Indonesia”</li>
                            <li>Berat bersih</li>
                            <li>Nomor batch/lot</li>
                            <li>Nama & alamat importir UK</li>
                            <li>Informasi alergi (jika produk diolah bersama kacang/pangan lain)</li>
                        </ul>
                    </div>
                    <div id="persyaratan-karantina" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Persyaratan Karantina</h3>
                        ${formatRequirementsToHtml([
                            "Bebas dari organisme pengganggu tumbuhan karantina (OPTK) yang diawasi Inggris/APHA.",
                            "Produk tidak boleh mengandung hama gudang (Lasioderma serricorne, Araecerus fasciculatus, dll.).",
                            "APHA melakukan pemeriksaan dokumen & fisik di Border Control Post (BCP) saat kedatangan.",
                            "Jika ditemukan hama/cemaran, produk dapat ditolak atau diwajibkan perlakuan (fumigasi/destruksi)."
                        ])}
                    </div>
                    <div id="proses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Proses Ekspor Singkat</h3>
                        ${formatRequirementsToHtml([
                            "Importir Inggris cek apakah Import Permit diperlukan dari APHA.",
                            "Eksportir Indonesia lakukan uji laboratorium (CoA): aflatoksin, pestisida, logam berat, mikroba.",
                            "Inspeksi pra-ekspor oleh Karantina Indonesia → terbit Phytosanitary Certificate.",
                            "Siapkan dokumen ekspor (Invoice, Packing List, B/L, COO, CoA).",
                            "Produk masuk melalui Border Control Post (BCP) yang disetujui APHA.",
                            "APHA & UK Port Health Authority melakukan pemeriksaan dokumen, label, dan bila perlu sampling."
                        ])}
                    </div>
                    <div id="catatan-penting" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Catatan Penting</h3>
                        ${formatRequirementsToHtml([
                            "Produk dengan aflatoksin melebihi batas → otomatis ditolak di perbatasan .",
                            "Jika dokumen tidak sesuai (PC, COO, CoA), kiriman bisa ditahan .",
                            "Gunakan kemasan food grade, kedap, bersih, kering → meminimalkan risiko jamur & serangga .",
                            "UK memiliki import surveillance untuk kelapa & produk tropis → pastikan konsistensi mutu  ."
                        ])}
                    </div>
                    <div id="tips-eksportir" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Tips Eksportir</h3>
                        ${formatRequirementsToHtml([
                            "Gunakan laboratorium terakreditasi ISO 17025 untuk pengujian CoA.",
                            "Koordinasi erat dengan importir UK → karena mereka yang mengurus import clearance.",
                            "Selalu cek update di situs resmi UK NPPO (APHA) & UK Food Standards Agency (FSA) sebelum pengiriman."
                        ])}
                    </div>
                `
            }
        ]
    },
    {
        "negara": "Rusia",
        "jumlah_produk": 2, // Updated to 2 for Nutmeg
        "region": "UEE (Eurasia)",
        "nppo_link": "https://fsvps.gov.ru/",
        "produk_list": [
            {
                "nama": "Kelapa Parut",
                "img": "https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full//97/MTA-67010495/no-brand_kelapa-parut-1-butir_full01.jpg",
                "persyaratan": `
                    <div id="informasi-umum" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Informasi Umum</h3>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Ingin ekspor kelapa parut kering (desiccated coconut) dari Indonesia ke Rusia?</p>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Produk Anda harus memenuhi aturan ketat karantina Rosselkhoznadzor dan standar pangan Uni EAEU.</p>
                    </div>
                    <div id="dokumen-wajib" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Dokumen Wajib</h3>
                        ${formatRequirementsToHtml([
                            "Phytosanitary Certificate (PC) dari Badan Karantina Indonesia.",
                            "Commercial Invoice & Packing List → memuat deskripsi, HS code, berat netto/bruto.",
                            "Bill of Lading / Air Waybill.",
                            "Certificate of Origin (COO/SKA) → menyatakan asal Indonesia.",
                            "Certificate of Analysis (CoA) → hasil uji:"
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Residu pestisida (sesuai MRL Rusia/EAEU)</li>
                            <li>Mikotoksin (aflatoksin B1, total aflatoksin, ochratoxin)</li>
                            <li>Logam berat (Pb, Cd)</li>
                        </ul>
                        <p class="text-base mt-2 ml-8" style="color: var(--color-text-dark);">o   Mikrobiologi (Salmonella, E. coli, coliforms)</p>
                        ${formatRequirementsToHtml([
                            "Declaration of Compliance (DoC) → pernyataan kesesuaian dengan regulasi EAEU, sering diminta importir."
                        ])}
                    </div>
                    <div id="standar-mutu-label" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Standar Mutu & Label</h3>
                        ${formatRequirementsToHtml([
                            "EAEU TR CU 021/2011 – Food Safety → produk harus aman dari kontaminan, mikroba, dan cemaran kimia.",
                            "EAEU TR CU 022/2011 – Food Labeling → label wajib berbahasa Rusia.",
                            "Label wajib memuat:"
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Nama produk (Десикатированный кокос / Desiccated Coconut)</li>
                            <li>Negara asal: Индонезия (Indonesia)</li>
                            <li>Berat bersih</li>
                            <li>Nomor batch/lot</li>
                            <li>Nama & alamat importir di Rusia</li>
                            <li>Tanggal produksi & kedaluwaktu</li>
                            <li>GOST Standards → kualitas, kelembapan, warna, dan kebersihan produk harus sesuai.</li>
                        </ul>
                    </div>
                    <div id="persyaratan-karantina" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Persyaratan Karantina</h3>
                        ${formatRequirementsToHtml([
                            "Harus bebas dari OPTK (Organisme Pengganggu Tumbuhan Karantina), khususnya hama gudang seperti Trogoderma granarium (khapra beetle), Lasioderma serricorne (cigarette beetle), dan Araecerus fasciculatus (coffee bean weevil).",
                            "Jika ada indikasi hama, produk harus melalui fumigasi / perlakuan sebelum penerbitan PC.",
                            "Rosselkhoznadzor menerapkan zero tolerance untuk kesalahan dokumen & temuan hama → kiriman bisa ditolak."
                        ])}
                    </div>
                    <div id="proses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Proses Ekspor Singkat</h3>
                        ${formatRequirementsToHtml([
                            "Eksportir & importir cek apakah ada import permit khusus dari Rosselkhoznadzor.",
                            "Lakukan uji laboratorium (CoA) untuk aflatoksin, pestisida, logam berat, mikroba.",
                            "Inspeksi pra-ekspor oleh Karantina Indonesia → penerbitan Phytosanitary Certificate.",
                            "Siapkan dokumen ekspor (Invoice, Packing List, B/L, COO, CoA, DoC).",
                            "Kirim melalui pelabuhan resmi Rusia (harus BCP yang diakui Rosselkhoznadzor).",
                            "Rosselkhoznadzor & Customs Rusia melakukan pemeriksaan dokumen & sampling di pelabuhan masuk."
                        ])}
                    </div>
                    <div id="catatan-penting" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Catatan Penting</h3>
                        ${formatRequirementsToHtml([
                            "Kesalahan kecil pada Phytosanitary Certificate → produk bisa ditolak di perbatasan .",
                            "Jika ditemukan aflatoksin > batas EAEU → kiriman dimusnahkan atau dikembalikan .",
                            "Gunakan kemasan food grade, kedap, bersih, dan berlabel Rusia .",
                            "Regulasi Rusia sering berubah → cek update di situs resmi Rosselkhoznadzor sebelum ekspor."
                        ])}
                    </div>
                    <div id="tips-eksportir" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">8. Tips Eksportir</h3>
                        ${formatRequirementsToHtml([
                            "Gunakan laboratorium uji terakreditasi ISO 17025 → hasil lebih diterima.",
                            "Pastikan data dokumen identik (nama barang, jumlah, HS code sama antara PC, Invoice, dan B/L).",
                            "Koordinasi dengan importir Rusia agar produk masuk melalui BCP yang benar."
                        ])}
                    </div>
                `
            },
            {
                "nama": "Pala Biji",
                "img": "https://asset.kompas.com/crops/IH_RV5KbajjARwnu9MUsgds412A=/0x0:1000x667/750x500/data/photo/2020/04/18/5e9b14ab5ec0a.jpg",
                "persyaratan": `
                    <div id="informasi-umum" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Informasi Umum</h3>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Persyaratan Ekspor Biji Pala (Nutmeg) ke Rusia</p>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Rusia melalui Rosselkhoznadzor (NPPO Russia) memberlakukan standar fitosanitari & keamanan pangan yang ketat.</p>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Produk pala biji harus bebas dari hama OPTK, cemaran, dan memenuhi aturan labeling pangan impor Rusia.</p>
                    </div>
                    <div id="dokumen-wajib" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Dokumen Wajib</h3>
                        ${formatRequirementsToHtml([
                            "Phytosanitary Certificate (PC) – diterbitkan Badan Karantina Indonesia.",
                            "Commercial Invoice & Packing List – sesuai HS Code pala biji (HS 0908.11).",
                            "Bill of Lading (B/L) atau Air Waybill (AWB).",
                            "Certificate of Origin (COO/SKA) – asal produk dari Indonesia.",
                            "Certificate of Analysis (CoA) – mencakup:",
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Cemaran mikrobiologi (Salmonella spp., E. coli, Aspergillus flavus/ochraceus)</li>
                            <li>Aflatoksin total & B1 (harus sesuai batas maksimum Rusia/UEEA: ≤ 5 µg/kg untuk B1, ≤ 10 µg/kg total)</li>
                            <li>Residu pestisida (berdasarkan SanPiN Rusia)</li>
                            <li>Logam berat (Pb, Cd, Hg, As)</li>
                        </ul>
                        <p class="text-base mt-2 ml-8" style="color: var(--color-text-dark);"> Declaration of Compliance (DoC) – kesesuaian dengan Technical Regulation EAEU (TR CU 021/2011 “On Food Safety”).</p>
                        <p class="text-base mt-2 ml-8" style="color: var(--color-text-dark);"> Kontrak dagang / Letter of Credit (L/C).</p>
                    </div>
                    <div id="persyaratan-karantina" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">3. Persyaratan Karantina (NPPO Russia)</h3>
                        ${formatRequirementsToHtml([
                            "Produk harus bebas dari Organisme Pengganggu Tumbuhan Karantina (OPTK) yang dilarang Rusia, antara lain:",
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Araecerus fasciculatus (coffee bean weevil / kumbang pala)</li>
                            <li>Lasioderma serricorne (cigarette beetle)</li>
                        </ul>
                        <p class="text-base mt-2 ml-8" style="color: var(--color-text-dark);">o   Diperiksa oleh Rosselkhoznadzor di border entry point.</p>
                        <p class="text-base mt-2 ml-8" style="color: var(--color-text-dark);">o   Jika ditemukan hama hidup / cemaran → barang ditolak atau dimusnahkan.</p>
                        <p class="text-base mt-2 ml-8" style="color: var(--color-text-dark);">o   Kemasan wajib food grade, rapat, dan diberi label yang jelas.</p>
                    </div>
                    <div id="standar-mutu-label" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Standar Mutu & Label Rusia</h3>
                        ${formatRequirementsToHtml([
                            "Mengacu pada Technical Regulations of the Eurasian Economic Union (EAEU/TR CU):",
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>TR CU 021/2011 – Food Safety</li>
                            <li>TR CU 022/2011 – Food Labeling</li>
                            <li>TR CU 029/2012 – Safety of Food Additives, Flavorings, and Processing Aids</li>
                        </ul>
                        <p class="text-base mt-2" style="color: var(--color-text-dark);">Label wajib dalam bahasa Rusia mencantumkan:</p>
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Nama produk: Мускатный орех (Nutmeg)</li>
                            <li>Negara asal: Индонезия (Indonesia)</li>
                            <li>Nama & alamat produsen/eksportir</li>
                            <li>Nama & alamat importir Rusia</li>
                            <li>Berat bersih & kotor</li>
                            <li>Tanggal produksi & kedaluwarsa</li>
                            <li>Nomor batch/lot</li>
                            <li>Instruksi penyimpanan</li>
                        </ul>
                    </div>
                    <div id="proses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Proses Ekspor ke Rusia</h3>
                        ${formatRequirementsToHtml([
                            "Pemeriksaan & pengujian di Indonesia → CoA + Phytosanitary Certificate.",
                            "Dokumen ekspor disiapkan (Invoice, COO, B/L, DoC).",
                            "Pengiriman ke pelabuhan/airport Rusia yang diakui Rosselkhoznadzor.",
                            "Border Inspection Rosselkhoznadzor:",
                        ])}
                        <ul class="list-disc list-inside ml-8 space-y-1" style="color: var(--color-text-dark);">
                            <li>Cek dokumen</li>
                            <li>Sampling & uji laboratorium</li>
                            <li>Karantina bila diperlukan</li>
                        </ul>
                        <p class="text-base mt-2 ml-8" style="color: var(--color-text-dark);">o   Produk yang lulus → izin edar di Rusia.</p>
                    </div>
                    <div id="catatan-penting" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Catatan Penting</h3>
                        ${formatRequirementsToHtml([
                            "Tanpa Phytosanitary Certificate → produk otomatis ditolak .",
                            "Ditemukan hama karantina / aflatoksin tinggi → barang dimusnahkan .",
                            "Label tidak pakai bahasa Rusia → produk tidak boleh masuk distribusi .",
                        ])}
                    </div>
                    <div id="tips-sukses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Tips Sukses Ekspor</h3>
                        ${formatRequirementsToHtml([
                            "Gunakan fumigasi atau perlakuan pascapanen untuk mencegah hama hidup.",
                            "Simpan pala dengan RH < 65% untuk mencegah jamur penghasil aflatoksin.",
                            "Selalu cocokkan data HS Code, kontrak dagang, dan label dengan importir Rusia.",
                            "Pastikan importir di Rusia memiliki izin impor pangan dari Rosselkhoznadzor."
                        ])}
                    </div>
                `
            }
        ]
    },
    {
        "negara": "Vietnam",
        "jumlah_produk": 1,
        "region": "Asia",
        "nppo_link": "https://www.ppd.gov.vn/",
        "produk_list": [
            {
                "nama": "Pala Biji",
                "img": "https://asset.kompas.com/crops/IH_RV5KbajjARwnu9MUsgds412A=/0x0:1000x667/750x500/data/photo/2020/04/18/5e9b14ab5ec0a.jpg",
                "persyaratan": `
                    <div id="informasi-umum" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Informasi Umum</h3>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Ingin ekspor biji pala (Myristica fragrans) dari Indonesia ke Vietnam? 🚢 Pastikan produk memenuhi aturan karantina PPD Vietnam dan standar keamanan pangan Vietnam.</p>
                    </div>
                    <div id="dokumen-wajib" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Dokumen Wajib</h3>
                        ${formatRequirementsToHtml([
                            "Phytosanitary Certificate (PC) dari Badan Karantina Indonesia.",
                            "Import Permit (IP) → sering diminta oleh NPPO Vietnam sebelum produk masuk (diurus oleh importir Vietnam) .",
                            "Invoice Komersial & Packing List.",
                            "Bill of Lading / Air Waybill.",
                            "Certificate of Origin (SKA/COO) .",
                            "Certificate of Analysis (CoA) → uji residu pestisida, aflatoksin, kadar air, dan cemaran mikroba sesuai standar Vietnam/EU Codex."
                        ])}
                    </div>
                    <div id="standar-mutu-label" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Standar Mutu & Label</h3>
                        ${formatRequirementsToHtml([
                            "Vietnam mengikuti standar QCVN / TCVN (Vietnamese National Standards) dan merujuk pada Codex Alimentarius.",
                            "Residu pestisida wajib di bawah MRL (Maximum Residue Limit) yang berlaku di Vietnam.",
                            "Kontaminan pangan: aflatoksin total umumnya maksimum 15 µg/kg (berdasarkan regulasi keamanan pangan Vietnam).",
                            "Pelabelan wajib dalam bahasa Vietnam: nama produk, negara asal, berat bersih, batch/lot, nama & alamat importir."
                        ])}
                    </div>
                    <div id="persyaratan-karantina" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Persyaratan Karantina</h3>
                        ${formatRequirementsToHtml([
                            "Produk harus bebas dari OPTK (Organisme Pengganggu Tumbuhan Karantina) yang diawasi Vietnam, misalnya kumbang gudang (Lasioderma serricerne, Araecerus fasciculatus).",
                            "Pemeriksaan karantina di pintu masuk: PPD Vietnam akan memeriksa dokumen & bisa melakukan fumigasi ulang jika ditemukan hama.",
                            "Pengiriman hanya boleh masuk lewat pelabuhan/pos masuk resmi yang ditunjuk NPPO Vietnam."
                        ])}
                    </div>
                    <div id="proses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Proses Ekspor Singkat</h3>
                        ${formatRequirementsToHtml([
                            "Importir Vietnam mengajukan Import Permit ke PPD.",
                            "Eksportir Indonesia menyiapkan produk → uji laboratorium (residu, aflatoksin).",
                            "Inspeksi pra-ekspor oleh Pejabat Karantina Indonesia → penerbitan Phytosanitary Certificate.",
                            "Dokumen ekspor (Invoice, Packing List, B/L, COO, CoA) dilampirkan.",
                            "Pengiriman via pelabuhan resmi Vietnam.",
                            "PPD melakukan kontrol dokumen & pemeriksaan fisik → bila sesuai, produk bisa masuk pasar Vietnam."
                        ])}
                    </div>
                    <div id="catatan-penting" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Catatan Penting</h3>
                        ${formatRequirementsToHtml([
                            "Jika dokumen tidak sesuai (terutama PC & IP), kiriman bisa ditolak atau dimusnahkan .",
                            "Vietnam sangat ketat terhadap cemaran aflatoksin dan hama gudang .",
                            "Gunakan kemasan yang kuat, bersih, kering, dan mudah dilacak (traceable) ."
                        ])}
                    </div>
                    <div id="tips-eksportir" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Tips Eksportir</h3>
                        ${formatRequirementsToHtml([
                            "Gunakan fumigasi atau perlakuan lain bila ada indikasi hama gudang.",
                            "Selalu koordinasi dengan importir Vietnam karena mereka wajib urus Import Permit.",
                            "Periksa update regulasi karantina di situs Plant Protection Department (PPD Vietnam)."
                        ])}
                    </div>
                `
            }
        ]
    },
    {
        "negara": "Belanda",
        "jumlah_produk": 1, // Updated to 1 for Nutmeg
        "region": "Uni Eropa",
        "nppo_link": "https://english.nvwa.nl/topics/themes/plant-health",
        "produk_list": [
            {
                "nama": "Pala Biji",
                "img": "https://asset.kompas.com/crops/IH_RV5KbajjARwnu9MUsgds412A=/0x0:1000x667/750x500/data/photo/2020/04/18/5e9b14ab5ec0a.jpg",
                "persyaratan": `
                    <div id="informasi-umum" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Informasi Umum</h3>
                        <p class="text-base mb-4" style="color: var(--color-text-dark);">Ingin ekspor biji pala (Myristica fragrans) ke Belanda? Pastikan produk Anda lolos aturan NVWA (Netherlands Food and Consumer Product Safety Authority) dan regulasi Uni Eropa.</p>
                    </div>
                    <div id="dokumen-wajib" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Dokumen Wajib</h3>
                        ${formatRequirementsToHtml([
                            "Phytosanitary Certificate (PC) dari Badan Karantina Indonesia.",
                            "Invoice Komersial & Packing List.",
                            "Bill of Lading / Air Waybill.",
                            "Certificate of Origin (SKA/COO).",
                            "Certificate of Analysis (CoA): uji residu pestisida, mikotoksin (aflatoksin B1, total aflatoksin, ochratoxin A), logam berat, mikrobiologi.",
                            "Dokumen tambahan: deklarasi kepatuhan keamanan pangan EU (Declaration of Compliance) bila diminta importir."
                        ])}
                    </div>
                    <div id="standar-mutu-label" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Standar Mutu & Label (Uni Eropa / Belanda)</h3>
                        ${formatRequirementsToHtml([
                            "Regulasi Uni Eropa (EU Regulation 178/2002, 852/2004, 1881/2006, 396/2005) → keamanan pangan, batas residu pestisida, dan kontaminan.",
                            "Maximum Residue Limits (MRLs) untuk pestisida → dicek di database EU (pala memiliki batas spesifik).",
                            "Kontaminan: aflatoksin B1 max 5 µg/kg, total aflatoksin 10 µg/kg (untuk biji pala utuh).",
                            "Pelabelan Wajib sesuai Regulation (EU) 1169/2011: nama produk, negara asal, berat bersih, batch/lot, nama & alamat importir (dalam bahasa Belanda atau bahasa resmi EU)."
                        ])}
                    </div>
                    <div id="persyaratan-karantina" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Persyaratan Karantina</h3>
                        ${formatRequirementsToHtml([
                            "Produk harus bebas dari OPTK (Organisme Pengganggu Tumbuhan Karantina).",
                            "Tidak boleh ada serangga hidup, biji kotor, atau kontaminan organik.",
                            "NVWA akan melakukan pemeriksaan dokumen dan bisa sampling di pelabuhan masuk (Rotterdam/Schiphol)."
                        ])}
                    </div>
                    <div id="proses-ekspor" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Proses Ekspor Singkat</h3>
                        ${formatRequirementsToHtml([
                            "Cek persyaratan importir di Belanda (apakah ada tambahan sertifikat khusus).",
                            "Uji laboratorium (CoA) untuk aflatoksin, pestisida, logam berat.",
                            "Pastikan fasilitas produksi & gudang sesuai GMP/HACCP (sering diminta buyer EU).",
                            "Inspeksi pra-ekspor oleh Pejabat Karantina → penerbitan Phytosanitary Certificate.",
                            "Pengiriman melalui pelabuhan resmi EU (Rotterdam, Schiphol).",
                            "NVWA melakukan kontrol dokumen & sampling bila diperlukan."
                        ])}
                    </div>
                    <div id="catatan-penting" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Catatan Penting</h3>
                        ${formatRequirementsToHtml([
                            "Jika ditemukan aflatoksin melebihi batas → kiriman bisa ditolak atau dimusnahkan .",
                            "RASFF Alert (Rapid Alert System for Food and Feed) di EU bisa mengakibatkan larangan sementara bagi eksportir tertentu .",
                            "Gunakan kemasan food grade, bersih, kering, dan berlabel sesuai aturan EU ."
                        ])}
                    </div>
                    <div id="tips-eksportir" class="mb-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-text-dark);">Tips Eksportir</h3>
                        ${formatRequirementsToHtml([
                            "Gunakan laboratorium terakreditasi ISO 17025 untuk uji CoA.",
                            "Diskusikan dengan importir Belanda soal standar tambahan (mis. sertifikasi Organic / FairTrade jika target pasar premium).",
                            "Selalu cek database MRL Uni Eropa sebelum ekspor: EU Pesticide Database."
                        ])}
                    </div>
                `
            }
        ]
    }
];

        /* ========================================================= */
        /* Variabel DOM (Document Object Model) */
        /* ========================================================= */
        const mainPage = document.getElementById('mainPage');
        const negaraTujuanPage = document.getElementById('negaraTujuanPage');
        const productDetailPage = document.getElementById('productDetailPage');
        const exportRequirementsPage = document.getElementById('exportRequirementsPage');
        const exportProductListPage = document.getElementById('exportProductListPage');
        const productCountriesPage = document.getElementById('productCountriesPage');


        // Tombol navigasi utama
        const tombolCari = document.getElementById('tombolCari');

        // Elemen Breadcrumbs
        const breadcrumbHomeNegara = document.getElementById('breadcrumbHomeNegara');
        const breadcrumbHomeProduct = document.getElementById('breadcrumbHomeProduct');
        const breadcrumbNegaraProduct = document.getElementById('breadcrumbNegaraProduct');
        const breadcrumbHomeReq = document.getElementById('breadcrumbHomeReq');
        const breadcrumbNegaraReq = document.getElementById('breadcrumbNegaraReq');
        const breadcrumbProdukReq = document.getElementById('breadcrumbProdukReq');
        const breadcrumbCurrentReq = document.getElementById('breadcrumbCurrentReq'); // Fixed this line
        const breadcrumbHomeProdukList = document.getElementById('breadcrumbHomeProdukList');
        const breadcrumbHomeProductCountries = document.getElementById('breadcrumbHomeProductCountries');
        const breadcrumbProdukListProductCountries = document.getElementById('breadcrumbProdukListProductCountries');
        const breadcrumbCurrentProductCountries = document.getElementById('breadcrumbCurrentProductCountries');

        // Elemen Halaman Negara Tujuan
        const filterSemuaNegara = document.getElementById('filterSemuaNegara');
        const filterAsia = document.getElementById('filterAsia');
        const filterUniEropa = document.getElementById('filterUniEropa');
        const filterGcc = document.getElementById('filterGcc');
        const filterUee = document = document.getElementById('filterUee');
        const filterLainnya = document.getElementById('filterLainnya');
        const daftarNegaraFiltrasi = document.getElementById('daftarNegaraFiltrasi');
        const daftarNegaraTitle = document.getElementById('daftarNegaraTitle');

        // Elemen Halaman Detail Produk Negara
        const detailPageTitle = document.getElementById('detailPageTitle');
        const detailPageSubtext = document.getElementById('detailPageSubtext');
        const produkContainer = document.getElementById('produkContainer');

        // Elemen Halaman Persyaratan Ekspor Produk
        const requirementsPageTitle = document.getElementById('requirementsPageTitle');
        const requirementsPageSubtext = document.getElementById('requirementsPageSubtext');
        const requirementsContent = document.getElementById('requirementsContent');
        const countryNameForReq = document.getElementById('countryNameForReq');
        const requirementsProductCard = document.getElementById('requirementsProductCard'); // New for product card
        const requirementsProductImage = document.getElementById('requirementsProductImage'); // New for product image
        const requirementsProductName = document.getElementById('requirementsProductName'); // New for product name
        const requirementsNavList = document.getElementById('requirementsNavList'); // New for requirements navigation
        const requirementsButtonGroup = document.getElementById('requirementsButtonGroup'); // New for the button group

        // Elemen Halaman Daftar Produk Ekspor
        const productListPageTitle = document.getElementById('productListPageTitle');
        const productListPageSubtext = document.getElementById('productListPageSubtext');
        const allProductsContainer = document.getElementById('allProductsContainer');

        // Elemen Halaman Negara-negara Penjual Produk
        const productCountriesPageTitle = document.getElementById('productCountriesPageTitle');
        const productCountriesPageSubtext = document.getElementById('productCountriesPageSubtext');
        const countriesForProductContainer = document.getElementById('countriesForProductContainer');

        // Elemen input pencarian dan dropdowns
        const inputNegara = document.getElementById('inputNegara');
        const toggleNegaraDropdown = document.getElementById('toggleNegaraDropdown');
        const negaraDropdownContent = document.getElementById('negaraDropdownContent');

        const inputProduk = document.getElementById('inputProduk');
        const toggleProdukDropdown = document.getElementById('toggleProdukDropdown');
        const produkDropdownContent = document.getElementById('produkDropdownContent');

        const noResultsCard = document.getElementById('noResultsCard');


        /* ========================================================= */
        /* Variabel State (Penyimpanan Data Sementara) */
        /* ========================================================= */
        let selectedCountryData = null; // Menyimpan data negara yang dipilih
        let selectedProductForCountriesPage = null; // Menyimpan data produk yang dipilih untuk halaman negara-negara penjual produk
        let selectedProductForRequirements = null; // Menyimpan data produk yang dipilih untuk halaman persyaratan

        /* ========================================================= */
        /* Fungsi Pembantu */
        /* ========================================================= */

        // Data lengkap untuk semua produk unik (untuk halaman daftar produk ekspor)
        const allUniqueProductsData = (() => {
            const productsMap = new Map();
            exportCountriesData.forEach(country => {
                country.produk_list.forEach(product => {
                    if (!productsMap.has(product.nama)) {
                        productsMap.set(product.nama, {
                            nama: product.nama,
                            img: product.img,
                            // Tidak menyimpan 'persyaratan' di sini karena itu spesifik untuk pasangan produk-negara
                            countries_exporting: new Set()
                        });
                    }
                    productsMap.get(product.nama).countries_exporting.add(country.negara);
                });
            });
            // Konversi Set ke Array dan simpan jumlah negara pengekspor
            const uniqueProductsArray = Array.from(productsMap.values()).map(product => ({
                ...product,
                countries_exporting_count: product.countries_exporting.size,
                countries_exporting_list: Array.from(product.countries_exporting).sort() // Simpan daftar negara yang diurutkan
            }));
            return uniqueProductsArray.sort((a, b) => a.nama.localeCompare(b.nama));
        })();

        // Fungsi untuk mendapatkan URL gambar bendera berdasarkan nama negara
        function getCountryImage(countryName) {
            switch (countryName) {
                case 'China':
                    return 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Flag_of_the_People%27s_Republic_of_China.svg/255px-Flag_of_the_People%27s_Republic_of_China.svg.png';
                case 'Inggris':
                    return 'https://upload.wikimedia.org/wikipedia/commons/8/83/Flag_of_the_United_Kingdom_%283-5%29.svg'; // URL baru untuk bendera United Kingdom
                case 'Rusia':
                    return 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Flag_of_Russia.svg/255px-Flag_of_Russia.svg.png';
                case 'Vietnam':
                    return 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Vietnam.svg/255px-Flag_of_Vietnam.svg.png';
                case 'Belanda':
                    return 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Flag_of_the_Netherlands.svg/255px-Flag_of_the_Netherlands.svg.png';
                default:
                    // Fallback for other countries using a placeholder
                    const countryCode = countryName.substring(0, 2).toUpperCase(); 
                    return `https://placehold.co/150x120/CCCCCC/666666?text=${countryCode}`;
            }
        }

        // Fungsi untuk mengkonversi string menjadi slug URL-friendly
        function slugify(text) {
            return text.toString().toLowerCase()
                .replace(/\s+/g, '-')           // Ganti spasi dengan tanda hubung
                .replace(/[^\w-]+/g, '')       // Hapus semua non-word chars
                .replace(/--+/g, '-')          // Ganti multiple dashes dengan single dash
                .replace(/^-+/, '')            // Trim dashes from start of text
                .replace(/-+$/, '');           // Trim dashes from end of text
        }

        // Fungsi untuk menyembunyikan semua halaman
        function _hideAllPages() {
            mainPage.classList.add('hidden-page');
            negaraTujuanPage.classList.add('hidden-page');
            productDetailPage.classList.add('hidden-page');
            exportRequirementsPage.classList.add('hidden-page');
            exportProductListPage.classList.add('hidden-page');
            productCountriesPage.classList.add('hidden-page');

            // Sembunyikan kartu gambar produk saat tidak di halaman persyaratan ekspor
            requirementsProductCard.classList.add('hidden');
        }

        // Fungsi untuk parsing query parameters dari string hash
        function getQueryParams(url) {
            const params = {};
            const queryString = url.split('?')[1];
            if (queryString) {
                queryString.split('&').forEach(param => {
                    const [key, value] = param.split('=');
                    params[decodeURIComponent(key)] = decodeURIComponent(value || '');
                });
            }
            return params;
        }

        // Fungsi untuk menampilkan kartu "Tidak Ada Hasil"
        function showNoResultsCard() {
            noResultsCard.classList.remove('hidden');
            noResultsCard.classList.add('visible');
        }

        // Fungsi untuk menyembunyikan kartu "Tidak Ada Hasil"
        function hideNoResultsCard() {
            noResultsCard.classList.remove('visible');
            noResultsCard.classList.add('hidden');
        }

        /* ========================================================= */
        /* Fungsi Render Halaman */
        /* ========================================================= */

        // Fungsi untuk merender halaman utama
        function renderMainPage() {
            _hideAllPages();
            mainPage.classList.remove('hidden-page');
            document.title = "Lintanx. Layanan Informasi Tumbuhan Ekspor";
            
            // Reset input pencarian saat kembali ke halaman utama
            inputNegara.value = '';
            inputProduk.value = '';
            hideNoResultsCard(); // Pastikan kartu "Tidak Ada Hasil" juga tersembunyi
        }

        // Fungsi untuk merender halaman negara tujuan
        function renderNegaraTujuanPage(activeFilterRegion = 'Semua Negara') {
            _hideAllPages();
            negaraTujuanPage.classList.remove('hidden-page');
            let countriesToDisplay = exportCountriesData;
            filterAndRenderCountries(activeFilterRegion, countriesToDisplay);
            document.title = "Negara Tujuan Ekspor - Lintanx";
        }

        // Fungsi untuk merender halaman detail produk untuk negara tertentu
        function renderProductDetailPage(countrySlug) {
            _hideAllPages();
            productDetailPage.classList.remove('hidden-page');

            selectedCountryData = exportCountriesData.find(country => slugify(country.negara) === countrySlug);

            if (selectedCountryData) {
                detailPageTitle.textContent = `Produk Ekspor ke ${selectedCountryData.negara}`;
                detailPageSubtext.textContent = ``;
                breadcrumbCurrentProduct.textContent = selectedCountryData.negara;
                renderProducts(selectedCountryData.produk_list, selectedCountryData.negara);
                document.title = `Produk Ekspor ke ${selectedCountryData.negara} - Lintanx`;
            } else {
                console.error("Data negara tidak ditemukan:", countrySlug);
                navigateTo('#/'); // Redirect ke halaman utama jika data tidak ditemukan
            }
        }

        // Fungsi untuk merender halaman daftar semua produk ekspor
        function renderExportProductListPage() {
            _hideAllPages();
            exportProductListPage.classList.remove('hidden-page');
            productListPageTitle.textContent = "Semua Produk Ekspor";
            productListPageSubtext.textContent = "Temukan persyaratan ekspor untuk berbagai jenis produk tumbuhan.";
            renderAllProducts(allUniqueProductsData);
            document.title = "Semua Produk Ekspor - Lintanx";
        }

        // Fungsi baru: untuk merender halaman negara-negara penjual produk tertentu
        function renderProductCountriesPage(productSlug) {
            _hideAllPages();
            productCountriesPage.classList.remove('hidden-page');

            selectedProductForCountriesPage = allUniqueProductsData.find(p => slugify(p.nama) === productSlug);

            if (selectedProductForCountriesPage) {
                productCountriesPageTitle.textContent = `Negara Tujuan untuk ${selectedProductForCountriesPage.nama}`;
                productCountriesPageSubtext.textContent = `Informasi negara tujuan ekspor.` + ` Produk: ${selectedProductForCountriesPage.nama}`;
                breadcrumbCurrentProductCountries.textContent = selectedProductForCountriesPage.nama;

                renderCountriesForProduct(selectedProductForCountriesPage.countries_exporting_list, selectedProductForCountriesPage.nama);
                document.title = `Negara Tujuan untuk ${selectedProductForCountriesPage.nama} - Lintanx`;
            } else {
                console.error("Data produk tidak ditemukan:", productSlug);
                navigateTo('#/'); // Redirect ke halaman utama jika data tidak ditemukan
            }
        }

        // Fungsi untuk merender halaman persyaratan ekspor untuk produk dan negara spesifik
        function renderExportRequirementsPage(countrySlug, productSlug) {
            _hideAllPages();
            exportRequirementsPage.classList.remove('hidden-page');

            const country = exportCountriesData.find(c => slugify(c.negara) === countrySlug);
            const product = country ? country.produk_list.find(p => slugify(p.nama) === productSlug) : null;

            if (country && product) {
                selectedProductForRequirements = product;
                selectedCountryData = country;

                requirementsPageTitle.textContent = `Ekspor Produk ${product.nama} ke ${country.negara}`;
                requirementsPageSubtext.innerHTML = `Berikut ini informasi persyaratan ekspor terkait produk yang akan diekspor ke <span id="countryNameForReq"></span>.` ;

                requirementsContent.innerHTML = product.persyaratan || '<p style="color: var(--color-text-dark);">Tidak ada persyaratan spesifik yang tersedia untuk produk ini.</p>';

                // Tampilkan kartu gambar produk
                requirementsProductCard.classList.remove('hidden');
                requirementsProductImage.src = product.img;
                requirementsProductName.textContent = product.nama;
                
                // Set the country name for the requirements page subtext
                countryNameForReq.textContent = country.negara;

                // Populate requirements navigation with headings and buttons
                populateRequirementsNav();

                breadcrumbProdukReq.textContent = product.nama;
                breadcrumbNegaraReq.textContent = country.negara;
                breadcrumbCurrentReq.textContent = `Persyaratan`;
                document.title = `Persyaratan Ekspor ${product.nama} ke ${country.negara} - Lintanx`;
            } else {
                console.error("Data negara atau produk tidak ditemukan:", countrySlug, productSlug);
                navigateTo('#/'); // Redirect ke halaman utama jika data tidak ditemukan
            }
        }

        /* ========================================================= */
        /* Fungsi Render Konten Dinamis (dipanggil oleh fungsi render halaman) */
        /* ========================================================= */

        // Merender (menampilkan) kartu negara
        function renderCountries(countriesToDisplay, title) {
            daftarNegaraFiltrasi.innerHTML = '';
            daftarNegaraTitle.textContent = title;

            if (countriesToDisplay.length === 0) {
                daftarNegaraFiltrasi.innerHTML = '<p class="col-span-full" style="color: var(--color-text-dark);">Tidak ada negara yang ditemukan untuk wilayah ini.</p>';
                return;
            }

            countriesToDisplay.forEach(country => {
                const countryImage = getCountryImage(country.negara);

                const countryCard = document.createElement('div');
                // Mengurangi padding menjadi p-2 untuk kartu yang lebih kecil
                countryCard.className = 'p-2 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden transparent-content-card product-item-card';
                countryCard.innerHTML = `
                    <img src="${countryImage}" alt="Gambar untuk ${country.negara}" class="product-card-image">
                    <div class="px-2 pb-2"> <!-- Mengurangi padding di sini juga -->
                        <h3 class="font-semibold text-base mb-1" style="color: var(--color-text-dark);">${country.negara}</h3> <!-- Mengurangi ukuran font -->
                        <p class="text-xs text-gray-500">${country.jumlah_produk || 0} produk ekspor</p>
                    </div>
                `;
                countryCard.addEventListener('click', () => {
                    navigateTo(`#/negara-tujuan/${slugify(country.negara)}`);
                });
                daftarNegaraFiltrasi.appendChild(countryCard);
            });
        }

        // Merender (menampilkan) kartu produk (di halaman Detail Produk Negara)
        function renderProducts(productsToDisplay, countryName) {
            produkContainer.innerHTML = '';

            if (productsToDisplay.length === 0) {
                produkContainer.innerHTML = '<p class="col-span-full" style="color: var(--color-text-dark);">Tidak ada produk yang ditemukan untuk negara ini.</p>';
                return;
            }

            productsToDisplay.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'p-2 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden transparent-content-card product-item-card';
                productCard.innerHTML = `
                    <img src="${product.img}" alt="${product.nama}" class="product-card-image">
                    <div class="px-2 pb-2">
                        <h3 class="font-semibold text-base mb-1" style="color: var(--color-text-dark);">${product.nama}</h3>
                        <p class="text-xs hover:underline" style="color: var(--color-link-hover);">Lihat persyaratan ></p>
                    </div>
                `;
                // Menambahkan event listener untuk mengklik kartu produk
                productCard.addEventListener('click', () => {
                    navigateTo(`#/persyaratan/${slugify(countryName)}/${slugify(product.nama)}`);
                });
                produkContainer.appendChild(productCard);
            });
        }

        // Merender (menampilkan) semua kartu produk unik (di halaman Daftar Produk Ekspor)
        function renderAllProducts(productsToDisplay) {
            allProductsContainer.innerHTML = '';

            if (productsToDisplay.length === 0) {
                allProductsContainer.innerHTML = '<p class="col-span-full" style="color: var(--color-text-dark);">Tidak ada produk yang ditemukan.</p>';
                return;
            }

            productsToDisplay.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'p-2 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden transparent-content-card product-item-card';
                productCard.innerHTML = `
                    <img src="${product.img}" alt="${product.nama}" class="product-card-image">
                    <div class="px-2 pb-2">
                        <h3 class="font-semibold text-base mb-1" style="color: var(--color-text-dark);">${product.nama}</h3>
                        <p class="text-xs text-gray-500">${product.countries_exporting_count} Negara tujuan</p>
                        <p class="text-xs hover:underline mt-1" style="color: var(--color-link-hover);">Lihat persyaratan ></p>
                    </div>
                `;
                // Menambahkan event listener untuk mengklik kartu produk
                productCard.addEventListener('click', () => {
                    navigateTo(`#/produk-ekspor/${slugify(product.nama)}`);
                });
                allProductsContainer.appendChild(productCard);
            });
        }

        // Merender (menampilkan) kartu negara untuk produk tertentu
        function renderCountriesForProduct(countryNames, productName) {
            countriesForProductContainer.innerHTML = '';

            if (countryNames.length === 0) {
                countriesForProductContainer.innerHTML = `<p class="col-span-full" style="color: var(--color-text-dark);">Tidak ada negara yang mengekspor produk ${productName}.</p>`;
                return;
            }

            countryNames.forEach(countryName => {
                const countryImage = getCountryImage(countryName);

                const countryCard = document.createElement('div');
                countryCard.className = 'p-2 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden transparent-content-card product-item-card';
                countryCard.innerHTML = `
                    <img src="${countryImage}" alt="Gambar untuk ${countryName}" class="product-card-image">
                    <div class="px-2 pb-2">
                        <h3 class="font-semibold text-base mb-1" style="color: var(--color-text-dark);">${countryName}</h3>
                        <p class="text-xs hover:underline" style="color: var(--color-link-hover);">Lihat persyaratan ></p>
                    </div>
                `;
                countryCard.addEventListener('click', () => {
                    navigateTo(`#/persyaratan/${slugify(countryName)}/${slugify(productName)}`);
                });
                countriesForProductContainer.appendChild(countryCard);
            });
        }

        // Fungsi untuk memfilter dan merender negara berdasarkan wilayah
        function filterAndRenderCountries(region, dataToUse = exportCountriesData) {
            let filteredCountries = [];
            let displayTitle = '';

            document.querySelectorAll('#negaraTujuanPage button, #negaraTujuanPage ul a').forEach(el => {
                el.classList.remove('filter-active');
                el.style.backgroundColor = ''; /* Reset background color */
                el.style.color = 'var(--color-text-dark)'; /* Reset text color */
                if (el.tagName === 'A') {
                    el.style.setProperty('background-color', 'transparent', 'important'); /* Ensure links are transparent by default */
                    el.style.setProperty('color', 'var(--color-text-dark)', 'important');
                }
            });

            if (region === 'Semua Negara') {
                filteredCountries = dataToUse;
                displayTitle = 'Semua Negara';
                filterSemuaNegara.classList.add('filter-active');
                filterSemuaNegara.style.backgroundColor = 'var(--color-accent-button)';
                filterSemuaNegara.style.color = 'var(--color-text-light)';
            } else if (region === 'Hasil Pencarian') {
                filteredCountries = dataToUse;
                displayTitle = 'Hasil Pencarian Negara';
            }
            else {
                if (region === 'Lainnya') {
                    const knownRegions = ['Asia', 'Uni Eropa', 'GCC (Arab Teluk)', 'UEE (Eurasia)', 'Amerika Utara', 'Amerika Selatan', 'Afrika', 'Eropa'];
                    filteredCountries = dataToUse.filter(country => !knownRegions.includes(country.region));
                } else {
                    filteredCountries = dataToUse.filter(country => country.region === region);
                }
                displayTitle = `Negara di ${region}`;

                const activeFilterElement = document.getElementById(`filter${region.replace(/ /g, '').replace(/\(.*\)/, '')}`);
                if (activeFilterElement) {
                    activeFilterElement.classList.add('filter-active');
                    activeFilterElement.style.backgroundColor = 'var(--color-accent-button)';
                    activeFilterElement.style.color = 'var(--color-text-light)';
                }
            }
            renderCountries(filteredCountries, displayTitle);
        }

        /* ========================================================= */
        /* Interaktif Pencarian */
        /* ========================================================= */

        // Fungsi untuk mengisi dropdown negara
        function populateNegaraDropdown(filterText = '') {
            negaraDropdownContent.innerHTML = '';
            const lowerCaseFilterText = filterText.toLowerCase();

            // Tambahkan opsi "Semua negara" paling atas jika filterText cocok atau kosong
            if ('semua negara'.includes(lowerCaseFilterText) || lowerCaseFilterText === '') {
                const allCountriesOption = document.createElement('div');
                allCountriesOption.classList.add('dropdown-item', 'font-semibold');
                allCountriesOption.textContent = 'Semua negara';
                allCountriesOption.addEventListener('click', () => {
                    inputNegara.value = 'Semua negara';
                    negaraDropdownContent.classList.remove('show');
                });
                negaraDropdownContent.appendChild(allCountriesOption);
            }

            const uniqueCountries = new Set(exportCountriesData.map(country => country.negara));
            let filteredCountries = Array.from(uniqueCountries);

            if (lowerCaseFilterText && lowerCaseFilterText !== 'semua negara') {
                filteredCountries = filteredCountries.filter(country =>
                    country.toLowerCase().includes(lowerCaseFilterText)
                );
            } else if (lowerCaseFilterText === 'semua negara') {
                // If "Semua negara" is typed, show all but prioritize the "Semua negara" option
                filteredCountries = []; // Clear to avoid duplicates, the option is already added
            }


            if (filteredCountries.length > 0) {
                filteredCountries.sort().forEach(country => { // Urutkan secara alfabetis
                    const div = document.createElement('div');
                    div.classList.add('dropdown-item');
                    div.textContent = country;
                    div.addEventListener('click', () => {
                        inputNegara.value = country;
                        negaraDropdownContent.classList.remove('show');
                    });
                    negaraDropdownContent.appendChild(div);
                });
            } else if (negaraDropdownContent.children.length === 0) { // Hanya tampilkan 'Tidak ditemukan' jika tidak ada opsi lain
                const div = document.createElement('div');
                div.classList.add('dropdown-item', 'text-gray-500', 'italic');
                div.textContent = 'Tidak ditemukan';
                negaraDropdownContent.appendChild(div);
            }
        }

        // Fungsi untuk mengisi dropdown produk
        function populateProdukDropdown(filterText = '') {
            produkDropdownContent.innerHTML = '';
            const lowerCaseFilterText = filterText.toLowerCase();

            // Tambahkan opsi "Semua produk" paling atas jika filterText cocok atau kosong
            if ('semua produk'.includes(lowerCaseFilterText) || lowerCaseFilterText === '') {
                const allProductsOption = document.createElement('div');
                allProductsOption.classList.add('dropdown-item', 'font-semibold');
                allProductsOption.textContent = 'Semua produk';
                allProductsOption.addEventListener('click', () => {
                    inputProduk.value = 'Semua produk';
                    produkDropdownContent.classList.remove('show');
                });
                produkDropdownContent.appendChild(allProductsOption);
            }

            const uniqueProducts = new Set(allUniqueProductsData.map(product => product.nama));
            let filteredProducts = Array.from(uniqueProducts);

            if (lowerCaseFilterText && lowerCaseFilterText !== 'semua produk') {
                filteredProducts = filteredProducts.filter(product =>
                    product.toLowerCase().includes(lowerCaseFilterText)
                );
            } else if (lowerCaseFilterText === 'semua produk') {
                // If "Semua produk" is typed, show all but prioritize the "Semua produk" option
                filteredProducts = []; // Clear to avoid duplicates, the option is already added
            }

            if (filteredProducts.length > 0) {
                filteredProducts.sort().forEach(product => { // Urutkan secara alfabetis
                    const div = document.createElement('div');
                    div.classList.add('dropdown-item');
                    div.textContent = product;
                    div.addEventListener('click', () => {
                        inputProduk.value = product;
                        produkDropdownContent.classList.remove('show');
                    });
                    produkDropdownContent.appendChild(div);
                });
            } else if (produkDropdownContent.children.length === 0) { // Hanya tampilkan 'Tidak ditemukan' jika tidak ada opsi lain
                const div = document.createElement('div');
                div.classList.add('dropdown-item', 'text-gray-500', 'italic');
                div.textContent = 'Tidak ditemukan';
                produkDropdownContent.appendChild(div);
            }
        }

        // Fungsi untuk melakukan pencarian utama berdasarkan input negara dan produk
        function performSearch() {
            const negaraInput = inputNegara.value.trim().toLowerCase();
            const produkInput = inputProduk.value.trim().toLowerCase();

            const isNegaraGeneric = (negaraInput === '' || negaraInput === 'semua negara');
            const isProdukGeneric = (produkInput === '' || produkInput === 'semua produk');

            // Case 1: Both inputs are specific
            if (!isNegaraGeneric && !isProdukGeneric) {
                const country = exportCountriesData.find(c => slugify(c.negara) === slugify(negaraInput));
                if (country) {
                    const product = country.produk_list.find(p => slugify(p.nama) === slugify(produkInput));
                    if (product) {
                        navigateTo(`#/persyaratan/${slugify(country.negara)}/${slugify(product.nama)}`);
                        return;
                    }
                }
                // If specific country-product pair not found
                _hideAllPages();
                mainPage.classList.remove('hidden-page');
                showNoResultsCard();
                setTimeout(hideNoResultsCard, 5000);
                return;
            }

            // Case 2: Specific Product, Generic Country
            if (!isProdukGeneric && isNegaraGeneric) {
                const productSlug = slugify(produkInput);
                const productExists = allUniqueProductsData.some(product => slugify(product.nama) === productSlug);
                if (productExists) {
                    navigateTo(`#/produk-ekspor/${productSlug}`); // Go to countries for that specific product
                    return;
                } else {
                    // If exact product not found, show no results.
                    _hideAllPages();
                    mainPage.classList.remove('hidden-page');
                    showNoResultsCard();
                    setTimeout(hideNoResultsCard, 5000);
                    return;
                }
            }

            // Case 3: Specific Country, Generic Product
            if (!isNegaraGeneric && isProdukGeneric) {
                const countrySlug = slugify(negaraInput);
                const countryExists = exportCountriesData.some(country => slugify(country.negara) === countrySlug);
                if (countryExists) {
                    navigateTo(`#/negara-tujuan/${countrySlug}`); // Go to products for that specific country
                    return;
                } else {
                    // If exact country not found, show no results.
                    _hideAllPages();
                    mainPage.classList.remove('hidden-page');
                    showNoResultsCard();
                    setTimeout(hideNoResultsCard, 5000);
                    return;
                }
            }

            // Case 4: Both Generic (empty or "semua...")
            if (isNegaraGeneric && isProdukGeneric) {
                if (produkInput === 'semua produk') {
                    navigateTo('#/produk-ekspor'); // User explicitly wants ALL products
                    return;
                }
                // If not explicitly 'semua produk', but 'semua negara' or both are empty
                navigateTo('#/negara-tujuan'); // Default to all countries
                return;
            }

            // Fallback for any other unexpected cases
            _hideAllPages();
            mainPage.classList.remove('hidden-page');
            showNoResultsCard();
            setTimeout(hideNoResultsCard, 5000);
        }


        /* ========================================================= */
        /* Routing dan Navigasi Berbasis Hash */
        /* ========================================================= */

        // Fungsi utama untuk mengubah URL hash dan memicu handleLocation
        function navigateTo(path, params = {}) {
            let urlHash = path;
            const queryParts = [];

            // Tambahkan parameter ke hash jika ada
            for (const key in params) {
                queryParts.push(`${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`);
            }

            if (queryParts.length > 0) {
                urlHash += `?${queryParts.join('&')}`;
            }
            
            // Cek apakah hash sudah sama, jika ya, panggil langsung handleLocation
            if (window.location.hash === urlHash) {
                handleLocation();
            } else {
                window.location.hash = urlHash; // Ini akan memicu event 'hashchange'
            }
        }

        // Objek rute yang memetakan path (setelah #) ke fungsi render
        const routes = {
            '/': renderMainPage,
            '/negara-tujuan': renderNegaraTujuanPage,
            '/produk-ekspor': renderExportProductListPage,
            '/negara-tujuan/:countrySlug': renderProductDetailPage,
            '/produk-ekspor/:productSlug': renderProductCountriesPage,
            '/persyaratan/:countrySlug/:productSlug': renderExportRequirementsPage,
        };

        // Fungsi untuk menangani perubahan lokasi (URL hash)
        function handleLocation() {
            let fullHashPath = window.location.hash.substring(1) || '/';
            let pathWithoutQuery = fullHashPath.split('?')[0];
            
            if (pathWithoutQuery.length > 1 && pathWithoutQuery.endsWith('/')) {
                pathWithoutQuery = pathWithoutQuery.slice(0, -1);
            }

            const queryParams = getQueryParams(fullHashPath);

            let matchedRoute = null;
            let routeParams = {};

            for (const routePath in routes) {
                const routeParts = routePath.split('/').filter(p => p.length > 0);
                const pathParts = fullHashPath.split('?')[0].split('/').filter(p => p.length > 0);


                if (routePath === '/') {
                    if (pathParts.length === 0) {
                        matchedRoute = routes[routePath];
                        routeParams = {};
                        break;
                    }
                    continue;
                }
                
                if (routeParts.length !== pathParts.length) {
                    continue;
                }

                let match = true;
                let currentParams = {};

                for (let i = 0; i < routeParts.length; i++) {
                    const routePart = routeParts[i];
                    const pathPart = pathParts[i];

                    if (routePart.startsWith(':')) {
                        currentParams[routePart.substring(1)] = pathPart;
                    } else if (routePart !== pathPart) {
                        match = false;
                        break;
                    }
                }

                if (match) {
                    matchedRoute = routes[routePath];
                    routeParams = currentParams;
                    break;
                }
            }

            if (matchedRoute) {
                if (pathWithoutQuery === '/negara-tujuan') {
                    const region = queryParams.region || 'Semua Negara';
                    renderNegaraTujuanPage(region);
                } else if (pathWithoutQuery === '/produk-ekspor') {
                    renderExportProductListPage();
                } else if (pathWithoutQuery.startsWith('/negara-tujuan/')) {
                    renderProductDetailPage(routeParams.countrySlug);
                } else if (pathWithoutQuery.startsWith('/produk-ekspor/')) {
                    renderProductCountriesPage(routeParams.productSlug);
                } else if (pathWithoutQuery.startsWith('/persyaratan/')) {
                    renderExportRequirementsPage(routeParams.countrySlug, routeParams.productSlug);
                }
                else {
                    matchedRoute();
                }
            } else {
                console.warn("Tidak ada rute yang cocok untuk:", fullHashPath);
                navigateTo('#/'); // Alihkan ke halaman utama jika rute tidak cocok
            }
        }

        /* ========================================================= */
        /* Fungsi Navigasi Persyaratan (untuk daftar isi) */
        /* ========================================================= */
        function populateRequirementsNav() {
            requirementsNavList.innerHTML = ''; // Clear existing list items
            requirementsButtonGroup.innerHTML = ''; // Clear existing buttons

            const headings = requirementsContent.querySelectorAll('h3'); // Mengambil semua h3

            // Tambahkan item navigasi untuk setiap heading
            headings.forEach(heading => {
                const id = heading.id;
                const text = heading.textContent;
                if (id && text) {
                    const listItem = document.createElement('li');
                    const anchor = document.createElement('a');
                    anchor.href = `#${id}`;
                    anchor.textContent = text;
                    anchor.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetElement = document.getElementById(id);
                        if (targetElement) {
                            targetElement.scrollIntoView({ behavior: 'smooth' });
                            // setTimeout to allow scroll to complete before highlighting
                            setTimeout(highlightActiveHeading, 300); 
                        }
                    });
                    listItem.appendChild(anchor);
                    requirementsNavList.appendChild(listItem);
                }
            });

            // Tambahkan grup tombol di bawah daftar isi
            if (selectedCountryData) {
                // Tombol NPPO
                const nppoButtonDiv = document.createElement('div');
                nppoButtonDiv.classList.add('nav-button-item');
                nppoButtonDiv.innerHTML = `
                    <a href="${selectedCountryData.nppo_link}" target="_blank" class="bg-teal-accent-button">
                        Kunjungi Website NPPO ${selectedCountryData.negara} &rarr;
                    </a>
                `;
                requirementsButtonGroup.appendChild(nppoButtonDiv);

                // Tombol Link PDF OPTK (Waspada OPTK Produk Ini)
                const optkButtonDiv = document.createElement('div');
                optkButtonDiv.classList.add('nav-button-item');
                let optkLink = "https://drive.google.com/file/d/1V7Y9XSnsYyVdNe-yQOPchZlqrUgPzYf5/view?usp=sharing"; // Default link
                if (selectedCountryData.negara === "China") {
                    optkLink = "https://drive.google.com/file/d/19KVBb05XNvEtAwBKaomiKF63gXDMLR3e/view?usp=sharing"; // New link for China
                }
                optkButtonDiv.innerHTML = `
                    <a href="${optkLink}" target="_blank" class="bg-red-500-button">
                        Waspada OPTK Produk Ini
                    </a>
                `;
                requirementsButtonGroup.appendChild(optkButtonDiv);
                
                // Tombol Link Dokumen Ekspor (Lihat Dokumen Ekspor)
                const docExportButtonDiv = document.createElement('div');
                docExportButtonDiv.classList.add('nav-button-item');
                // Mengubah tautan dokumen ekspor
                const docExportLink = "https://drive.google.com/file/d/1AldMGXWtucQrihOi9YE4xs2HN4I7JZGm/view?usp=sharing";
                docExportButtonDiv.innerHTML = `
                    <a href="${docExportLink}" target="_blank" class="bg-teal-accent-button">
                        Lihat Dokumen Ekspor
                    </a>
                `;
                requirementsButtonGroup.appendChild(docExportButtonDiv);
            }

            // Highlight heading pertama secara default jika ada
            if (headings.length > 0) {
                highlightActiveHeading();
            }
        }

        function highlightActiveHeading() {
            const headingElements = requirementsContent.querySelectorAll('h3');
            // Hanya ambil tautan heading, exclude tombol
            const navLinks = requirementsNavList.querySelectorAll('a'); 
            
            navLinks.forEach(link => link.classList.remove('active-heading'));

            let activeLinkFound = false;
            headingElements.forEach((heading, index) => {
                const rect = heading.getBoundingClientRect();
                // Jika heading terlihat di viewport atau sudah melewati bagian atas
                // Sesuaikan 'offset' agar highlighting lebih akurat saat di-scroll
                const offset = 100; // Misalnya, 100px dari atas viewport
                if (rect.top <= offset && rect.bottom >= offset) {
                    const correspondingNavLink = requirementsNavList.querySelector(`a[href="#${heading.id}"]`);
                    if (correspondingNavLink) {
                        correspondingNavLink.classList.add('active-heading');
                        activeLinkFound = true;
                    }
                }
            });

            // Fallback: Jika tidak ada heading yang di-highlight (misal, user di bagian paling bawah), highlight yang terakhir
            if (!activeLinkFound && headingElements.length > 0) {
                const lastHeading = headingElements[headingElements.length - 1];
                const lastNavLink = requirementsNavList.querySelector(`a[href="#${lastHeading.id}"]`);
                if (lastNavLink) {
                     // Check if scroll is at the very bottom or near the bottom
                    if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 50)) { // 50px buffer
                        lastNavLink.classList.add('active-heading');
                    } else if (headingElements[0].getBoundingClientRect().top > (window.innerHeight / 2) && window.scrollY < (window.innerHeight / 2)) {
                        // If scrolled to top and first heading is visible, highlight first
                         const firstNavLink = requirementsNavList.querySelector(`a[href="#${headingElements[0].id}"]`);
                         if(firstNavLink) firstNavLink.classList.add('active-heading');
                    }
                }
            }
        }


        /* ========================================================= */
        /* Event Listeners */
        /* ========================================================= */
        // Tangani perubahan lokasi saat tombol back/forward browser digunakan
        window.addEventListener('hashchange', handleLocation);
        window.addEventListener('scroll', () => {
            if (!exportRequirementsPage.classList.contains('hidden-page')) {
                highlightActiveHeading();
            }
        });

        // Panggil handleLocation saat halaman pertama kali dimuat
        document.addEventListener('DOMContentLoaded', () => {
            if (!window.location.hash) {
                window.location.hash = '#/';
            } else {
                handleLocation();
            }

            // Event listeners untuk dropdown negara
            toggleNegaraDropdown.addEventListener('click', (event) => {
                event.stopPropagation(); // Mencegah event click menyebar ke window
                negaraDropdownContent.classList.toggle('show');
                if (negaraDropdownContent.classList.contains('show')) {
                    populateNegaraDropdown(inputNegara.value);
                }
                produkDropdownContent.classList.remove('show'); // Tutup dropdown produk jika terbuka
            });

            inputNegara.addEventListener('input', () => {
                populateNegaraDropdown(inputNegara.value);
                negaraDropdownContent.classList.add('show');
            });
            inputNegara.addEventListener('focus', () => {
                populateNegaraDropdown(inputNegara.value);
                negaraDropdownContent.classList.add('show');
                produkDropdownContent.classList.remove('show'); // Tutup dropdown negara jika terbuka
            });


            // Event listeners untuk dropdown produk
            toggleProdukDropdown.addEventListener('click', (event) => {
                event.stopPropagation(); // Mencegah event click menyebar ke window
                produkDropdownContent.classList.toggle('show');
                if (produkDropdownContent.classList.contains('show')) {
                    populateProdukDropdown(inputProduk.value);
                }
                negaraDropdownContent.classList.remove('show'); // Tutup dropdown negara jika terbuka
            });

            inputProduk.addEventListener('input', () => {
                populateProdukDropdown(inputProduk.value);
                produkDropdownContent.classList.add('show');
            });
            inputProduk.addEventListener('focus', () => {
                populateProdukDropdown(inputProduk.value);
                produkDropdownContent.classList.add('show');
                negaraDropdownContent.classList.remove('show'); // Tutup dropdown negara jika terbuka
            });

            // Tutup dropdown ketika mengklik di luar
            window.addEventListener('click', (event) => {
                if (!negaraDropdownContent.contains(event.target) && event.target !== inputNegara && event.target !== toggleNegaraDropdown) {
                    negaraDropdownContent.classList.remove('show');
                }
                if (!produkDropdownContent.contains(event.target) && event.target !== inputProduk && event.target !== toggleProdukDropdown) {
                    produkDropdownContent.classList.remove('show');
                }
            });

            // Event listener untuk tombol "Cari Syarat Mutu"
            tombolCari.addEventListener('click', performSearch);


            // Breadcrumbs - Sekarang menggunakan navigateTo dengan hash
            if (breadcrumbHomeNegara) {
                breadcrumbHomeNegara.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/'); });
            }
            if (breadcrumbHomeProduct) {
                breadcrumbHomeProduct.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/'); });
            }
            if (breadcrumbNegaraProduct) {
                breadcrumbNegaraProduct.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/negara-tujuan'); });
            }
            if (breadcrumbHomeReq) {
                breadcrumbHomeReq.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/'); });
            }
            if (breadcrumbNegaraReq) {
                breadcrumbNegaraReq.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/negara-tujuan'); });
            }
            if (breadcrumbProdukReq) {
                breadcrumbProdukReq.addEventListener('click', (event) => {
                    event.preventDefault();
                    const currentHash = window.location.hash;
                    if (currentHash.includes('/persyaratan/')) {
                        const parts = currentHash.split('/');
                        if (parts.length >= 3) {
                            const countrySlug = parts[2];
                            navigateTo(`#/negara-tujuan/${countrySlug}`);
                        } else {
                            navigateTo('#/produk-ekspor');
                        }
                    }
                });
            }
            if (breadcrumbHomeProdukList) {
                breadcrumbHomeProdukList.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/'); });
            }
            if (breadcrumbHomeProductCountries) {
                breadcrumbHomeProductCountries.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/'); });
            }
            if (breadcrumbProdukListProductCountries) {
                breadcrumbProdukListProductCountries.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/produk-ekspor'); });
            }

            // Filter wilayah
            if (filterSemuaNegara) filterSemuaNegara.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/negara-tujuan', { region: 'Semua Negara' }); });
            if (filterAsia) filterAsia.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/negara-tujuan', { region: 'Asia' }); });
            if (filterUniEropa) filterUniEropa.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/negara-tujuan', { region: 'Uni Eropa' }); });
            if (filterGcc) filterGcc.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/negara-tujuan', { region: 'GCC (Arab Teluk)' }); });
            if (filterUee) filterUee.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/negara-tujuan', { region: 'UEE (Eurasia)' }); });
            if (filterLainnya) filterLainnya.addEventListener('click', (event) => { event.preventDefault(); navigateTo('#/negara-tujuan', { region: 'Lainnya' }); });

        });
    </script>
</body>
</html>
 